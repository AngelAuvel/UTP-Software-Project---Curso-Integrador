<!-- 
  Estructura de la aplicación: 
  Si no estamos en login (mostrarNavbar=true), mostramos el Sidebar y el Contenido.
-->

<div *ngIf="mostrarNavbar" class="d-flex h-100">

  <!-- 
    SIDEBAR (Navegación vertical)
    Usamos la clase 'sidebar' para aplicar los estilos de ancho y posición.
  -->
  <nav class="sidebar navbar-dark bg-dark text-white p-3">
    <div class="d-flex flex-column h-100">
      
      <!-- Título de la Aplicación -->
      <a class="navbar-brand mb-4 fs-5 fw-bold" href="/" routerLink="productos">
        Sistema de inventario
      </a>

      <!-- Lista de Navegación -->
      <ul class="nav nav-pills flex-column mb-auto">
        
        <!-- Opción 1: Menú Desplegable (Multinivel) -->
        <li class="nav-item dropdown">
          <a class="nav-link text-white dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-box-open me-2"></i> Productos
          </a>
          <ul class="dropdown-menu dropdown-menu-dark" style="position: static; border: none; background-color: #343a40;">
            <!-- Opción 1.1: Listar Productos -->
            <li>
              <a class="dropdown-item text-white" href="/productos" routerLink="productos" routerLinkActive="active">
                <i class="fas fa-list-ul me-2"></i> Listar Productos
              </a>
            </li>
            <!-- Opción 1.2: Agregar Producto -->
            <li>
              <a class="dropdown-item text-white" href="/agregar-productos" routerLink="/agregar-productos" routerLinkActive="active">
                <i class="fas fa-plus me-2"></i> Agregar Producto
              </a>
            </li>
          </ul>
        </li>

        <!-- Opción 2: Cerrar Sesión (Opción individual) -->
        <li class="nav-item mt-auto">
          <a class="nav-link text-white" (click)="logout()" style="cursor: pointer;">
            <i class="fas fa-sign-out-alt me-2"></i> Cerrar Sesión
          </a>
        </li>
        
      </ul>
    </div>
  </nav>

  <!-- Contenido Principal (Router Outlet) -->
  <main class="content p-4 w-100">
    <router-outlet></router-outlet>
  </main>
</div>

<!-- Renderizar solo el router-outlet en la página de login (cuando mostrarNavbar es false) -->
<router-outlet *ngIf="!mostrarNavbar"></router-outlet>

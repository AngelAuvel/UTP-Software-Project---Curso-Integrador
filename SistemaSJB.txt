Cl√≠nica San Juan Bautista
________________________________________
LEAN CANVAS
1. Segmentos de Clientes (Customer Segments)
Cliente principal (foco actual):
‚Ä¢	Cl√≠nica San Juan Bautista - √Årea administrativa que requiere control y gesti√≥n de recursos log√≠sticos
Usuarios internos directos (usuarios del sistema):
‚Ä¢	Jefe de Log√≠stica: Responsable de la gesti√≥n integral del √°rea, aprobaciones y control presupuestal
‚Ä¢	Personal de Almac√©n: Encargados de recepciones, despachos y control de inventarios
‚Ä¢	Coordinadores de Compras: Gesti√≥n de proveedores y √≥rdenes de compra
Usuarios internos secundarios:
‚Ä¢	Jefes de Departamentos Administrativos: Finanzas, RRHH, Servicios Generales, Administraci√≥n
‚Ä¢	Asistentes Administrativos: Personal que realiza solicitudes de materiales y recursos
‚Ä¢	Gerencia/Direcci√≥n: Supervisi√≥n de indicadores, costos y reportes ejecutivos
‚Ä¢	Contabilidad: Seguimiento de gastos y valorizaci√≥n de inventarios
Usuarios de consulta:
‚Ä¢	Personal Administrativo General: Consulta de estado de solicitudes
‚Ä¢	Auditores Internos: Revisi√≥n de movimientos y trazabilidad
Segmentos de futura expansi√≥n (si el sistema escala):
‚Ä¢	Otras sedes de la Cl√≠nica San Juan Bautista (si planea expandirse)
‚Ä¢	Otras cl√≠nicas peque√±as o medianas que busquen un sistema similar
‚Ä¢	Centros m√©dicos con √°rea administrativa similar
Justificaci√≥n de la Segmentaci√≥n
Esta segmentaci√≥n se basa en:
Segmentaci√≥n por rol funcional: Cada tipo de usuario tiene necesidades, permisos y funcionalidades espec√≠ficas dentro del sistema
Segmentaci√≥n por nivel de responsabilidad: Desde usuarios operativos (almac√©n) hasta nivel estrat√©gico (gerencia)
Segmentaci√≥n por frecuencia de uso: Usuarios diarios (log√≠stica, almac√©n) vs usuarios ocasionales (consultores, auditores)
Segmentaci√≥n por tipo de decisi√≥n: Usuarios que solicitan, aprueban, ejecutan o supervisan
Esta estructura de segmentaci√≥n permite dise√±ar interfaces, permisos y funcionalidades adaptadas a cada perfil, maximizando la usabilidad y eficiencia del sistema para la Cl√≠nica San Juan Bautista.
2. Psicograf√≠a del Cliente
Aspecto	Descripci√≥n	Implicaciones en el sistema
Mentalidad	Personal administrativo que valora simplicidad, rapidez y precisi√≥n. Buscan soluciones pr√°cticas que no compliquen su trabajo diario.
El sistema debe ser intuitivo, con interfaz clara y procesos que no requieran m√∫ltiples pasos. Men√∫s directos, accesos r√°pidos y navegaci√≥n sencilla.
Aspiraciones	Desean enfocarse en la atenci√≥n administrativa de calidad (no en procesos log√≠sticos tediosos). Buscan profesionalizar su √°rea y demostrar eficiencia a la gerencia.
El sistema debe automatizar procesos repetitivos (solicitudes, reportes, alertas) y liberar tiempo del personal para tareas estrat√©gicas.
Temores	Miedo a sistemas complejos con curva de aprendizaje alta. Preocupaci√≥n por costos ocultos de implementaci√≥n y mantenimiento. Temor a perder control de los procesos durante la transici√≥n.
Ofrecer capacitaci√≥n incluida, manual de usuario claro, soporte t√©cnico accesible y migraci√≥n de datos asistida. Implementaci√≥n por fases sin interrumpir operaciones.
H√°bitos tecnol√≥gicos	Personal administrativo con uso b√°sico de computadoras (Excel, correo). Algunos usan smartphones, pero se intimidan con software especializado.
Dise√±o responsive (accesible desde PC y m√≥vil). Interfaz similar a aplicaciones conocidas. Videos tutoriales cortos y asistencia contextual dentro del sistema.


3. Problemas (Pains)
Problemas cr√≠ticos identificados en gesti√≥n log√≠stica administrativa de cl√≠nicas:
1.	Datos de inventario inexactos e incompletos (~15-20% de discrepancias entre f√≠sico y registros)
‚Ä¢	Control manual en cuadernos por turno
‚Ä¢	Falta de visibilidad en tiempo real
‚Ä¢	Desconocimiento de stock real en almac√©n
2.	Tiempo excesivo en procesos log√≠sticos manuales (10-15 horas semanales perdidas)
‚Ä¢	B√∫squeda manual de documentos y solicitudes
‚Ä¢	Llenado repetitivo de formatos en papel
‚Ä¢	Consolidaci√≥n manual de reportes
3.	Dificultad para rastrear solicitudes y responsables
‚Ä¢	No hay trazabilidad de qui√©n solicit√≥, aprob√≥ o entreg√≥
‚Ä¢	Solicitudes perdidas o extraviadas
‚Ä¢	Falta de seguimiento de estado de pedidos
4.	Procesos de aprobaci√≥n lentos y sin control
‚Ä¢	Solicitudes que tardan d√≠as en ser atendidas
‚Ä¢	Falta de notificaciones autom√°ticas
‚Ä¢	Cuello de botella en aprobaciones
5.	Exceso de papel y documentaci√≥n perdida (14-17% de casos)
‚Ä¢	√ìrdenes de compra, facturas y solicitudes en papel
‚Ä¢	Problemas de almacenamiento f√≠sico
‚Ä¢	P√©rdida de historial de movimientos
6.	Falta de datos confiables para toma de decisiones
‚Ä¢	No hay reportes consolidados de consumo por √°rea
‚Ä¢	Imposibilidad de proyectar demandas futuras
‚Ä¢	Dificultad para negociar con proveedores sin datos hist√≥ricos
7.	Descoordinaci√≥n entre departamentos administrativos
‚Ä¢	Falta de comunicaci√≥n fluida entre √°reas
‚Ä¢	Duplicaci√≥n de solicitudes o compras
‚Ä¢	Silos de informaci√≥n por departamento
8.	Control deficiente de costos log√≠sticos
‚Ä¢	Desconocimiento del gasto real por √°rea
‚Ä¢	Productos vencidos o sin uso
‚Ä¢	Sobre-stock de algunos productos y falta de otros
________________________________________
4. Resultados Deseados (Gains)
Beneficios esperados con la implementaci√≥n del sistema:
1.	Reducci√≥n de discrepancias de inventario a menos del 2%
‚Ä¢	Inventario en tiempo real con alertas autom√°ticas
‚Ä¢	Trazabilidad completa de movimientos
‚Ä¢	Sincronizaci√≥n entre almac√©n y sistema
2.	Ahorro de m√°s de 12 horas semanales en gesti√≥n log√≠stica
‚Ä¢	Automatizaci√≥n de solicitudes y aprobaciones
‚Ä¢	Generaci√≥n autom√°tica de reportes
‚Ä¢	Eliminaci√≥n de procesos manuales repetitivos
3.	Trazabilidad del 100% de solicitudes y movimientos
‚Ä¢	Registro digital de qui√©n, cu√°ndo y por qu√©
‚Ä¢	Hist√≥rico completo de operaciones
‚Ä¢	Auditor√≠a facilitada
4.	Reducci√≥n del tiempo de atenci√≥n de solicitudes en 60-70%
‚Ä¢	Flujo automatizado de aprobaciones
‚Ä¢	Notificaciones en tiempo real
‚Ä¢	Visibilidad del estado para todos los involucrados

5.	Reportes autom√°ticos para decisiones estrat√©gicas
‚Ä¢	Consumo por departamento y periodo
‚Ä¢	Identificaci√≥n de productos cr√≠ticos
‚Ä¢	Proyecci√≥n de demanda basada en hist√≥ricos
‚Ä¢	Evaluaci√≥n de desempe√±o de proveedores
6.	Reducci√≥n de costos operativos log√≠sticos en 15-25%
‚Ä¢	Eliminaci√≥n de sobre-stock y productos sin rotaci√≥n
‚Ä¢	Optimizaci√≥n de compras por volumen
‚Ä¢	Reducci√≥n de desperdicios y vencimientos
‚Ä¢	Mejor negociaci√≥n con proveedores por datos hist√≥ricos
7.	Mejora en la coordinaci√≥n interdepartamental
‚Ä¢	Comunicaci√≥n centralizada en el sistema
‚Ä¢	Visibilidad compartida de recursos
‚Ä¢	Estandarizaci√≥n de procesos
8.	Mayor satisfacci√≥n del personal administrativo
‚Ä¢	Menos tareas manuales y repetitivas
‚Ä¢	Herramientas digitales profesionales
‚Ä¢	Reconocimiento de eficiencia
9.	Control presupuestal efectivo por √°rea
‚Ä¢	Seguimiento de gastos en tiempo real
‚Ä¢	Alertas de l√≠mites presupuestales
‚Ä¢	Conciliaci√≥n simplificada con contabilidad
10.	Cumplimiento de normativas y auditor√≠as facilitado
‚Ä¢	Documentaci√≥n digital respaldada
‚Ä¢	Trazabilidad completa para auditor√≠as
‚Ä¢	Reportes de cumplimiento autom√°ticos
 
AN√ÅLISIS DETALLADO DE PROBLEMAS PARA √ÅREA ADMINISTRATIVA DE CL√çNICA
Top 1: Gesti√≥n manual de solicitudes de materiales que genera p√©rdidas de tiempo y desabastecimiento
Causas principales
‚Ä¢	Uso de formatos en papel que pueden perderse, da√±arse o no llegar al √°rea de log√≠stica
‚Ä¢	Comunicaci√≥n telef√≥nica o por mensajer√≠a entre departamentos que genera falta de registro formal
‚Ä¢	Ausencia de sistema centralizado, obligando a llevar control en cuadernos o Excel por cada √°rea
‚Ä¢	M√∫ltiples puntos de solicitud sin seguimiento (correos, llamadas, notas f√≠sicas), generando inconsistencias
‚Ä¢	Falta de estandarizaci√≥n en formatos de solicitud entre departamentos
Consecuencias espec√≠ficas
‚Ä¢	Tasa de error en solicitudes: 12-18% (cantidades incorrectas, productos equivocados)
‚Ä¢	Tiempo promedio de atenci√≥n de solicitud: 3-7 d√≠as cuando deber√≠a ser 24-48 horas
‚Ä¢	5-10 solicitudes extraviadas mensualmente en cl√≠nicas medianas
‚Ä¢	Duplicaci√≥n de pedidos por falta de visibilidad del estado de la solicitud
‚Ä¢	Desabastecimiento cr√≠tico en 2-4 ocasiones al mes por solicitudes no procesadas
‚Ä¢	Mayor carga administrativa: personal invirtiendo 8-12 horas semanales solo en seguimiento de solicitudes
Situaciones cr√≠ticas donde m√°s se manifiesta
‚Ä¢	Fin de mes: acumulaci√≥n de solicitudes para cierre presupuestal
‚Ä¢	Auditor√≠as: imposibilidad de rastrear el hist√≥rico de solicitudes y justificaciones
‚Ä¢	Urgencias administrativas: falta de t√≥ner para impresoras, material de limpieza cr√≠tico
‚Ä¢	Cambios de personal: p√©rdida de continuidad en solicitudes pendientes
‚Ä¢	Solicitudes interdepartamentales: falta de coordinaci√≥n entre √°reas
Top 2: Falta de control integrado de inventario administrativo en tiempo real
Causas principales
‚Ä¢	Registro manual en cuadernos por turno o en hojas Excel desactualizadas
‚Ä¢	Conteos f√≠sicos espor√°dicos (mensuales o trimestrales) que no reflejan movimientos diarios
‚Ä¢	Descoordinaci√≥n entre recepci√≥n, almac√©n y distribuci√≥n de materiales
‚Ä¢	Ausencia de alertas autom√°ticas para niveles m√≠nimos de stock cr√≠tico
‚Ä¢	M√∫ltiples almacenes sin visibilidad centralizada del inventario total
Consecuencias espec√≠ficas
‚Ä¢	Discrepancia inventario f√≠sico vs registros: 15-25% en promedio
‚Ä¢	Sobre-stock de productos de baja rotaci√≥n: 20-30% del inventario total sin movimiento
‚Ä¢	Desabastecimiento cr√≠tico de material de oficina b√°sico 3-5 veces al mes
‚Ä¢	Compras de emergencia con sobreprecio (+25-40%) para cubrir faltantes urgentes
‚Ä¢	Productos vencidos o sin uso: 10-15% del valor total de inventario
‚Ä¢	Imposibilidad de rastrear responsables de entradas y salidas
‚Ä¢	Tiempo invertido en b√∫squeda f√≠sica de productos en almac√©n: 5-8 horas semanales
Impacto financiero estimado (cl√≠nica mediana)
‚Ä¢	P√©rdida anual por desperdicios y productos sin uso: S/. 8,000 ‚Äì S/. 15,000
‚Ä¢	Costo adicional por compras de emergencia: 25-40% m√°s caro que precio regular
‚Ä¢	Tiempo invertido en conteo manual: 12-18 horas semanales (costo en horas-hombre)
‚Ä¢	Costo de oportunidad por desabastecimiento: p√©rdida de productividad administrativa

Top 3: Ausencia de reportes consolidados y an√°lisis de datos para toma de decisiones
Causas principales
‚Ä¢	Datos dispersos en m√∫ltiples formatos (papel, Excel, correos, cuadernos)
‚Ä¢	Limitada capacidad t√©cnica del personal administrativo para procesar datos
‚Ä¢	Falta de tiempo del jefe de log√≠stica para generar reportes manuales consolidados
‚Ä¢	Herramientas inadecuadas (Excel b√°sico) que no ofrecen an√°lisis autom√°tico
‚Ä¢	Ausencia de indicadores de gesti√≥n log√≠stica estandarizados
Consecuencias espec√≠ficas
‚Ä¢	Desconocimiento de productos m√°s consumidos por departamento y periodo
‚Ä¢	Dificultad para identificar patrones de consumo estacional o por √°rea
‚Ä¢	Incapacidad de medir eficiencia de proveedores (tiempos de entrega, calidad, precio)
‚Ä¢	Decisiones de compra basadas en intuici√≥n, no en datos hist√≥ricos
‚Ä¢	Imposibilidad de proyectar presupuesto log√≠stico con precisi√≥n
‚Ä¢	P√©rdida de oportunidades de ahorro al no detectar compras consolidadas o mejores proveedores
Informaci√≥n cr√≠tica que no est√° disponible
‚Ä¢	Consumo real por departamento y categor√≠a de producto
‚Ä¢	Rotaci√≥n de inventario (productos de alta vs baja rotaci√≥n)
‚Ä¢	Tiempo promedio de atenci√≥n de solicitudes por tipo y departamento
‚Ä¢	Comparativa de precios entre proveedores por producto
‚Ä¢	Eficiencia log√≠stica: indicadores como d√≠as de inventario, nivel de servicio, tasa de cumplimiento
‚Ä¢	Costo log√≠stico por departamento y su evoluci√≥n mensual
‚Ä¢	Identificaci√≥n de desperdicios y mermas no justificadas

Impacto en la toma de decisiones
‚Ä¢	Presupuestos log√≠sticos sobredimensionados o insuficientes por falta de datos hist√≥ricos
‚Ä¢	Contratos con proveedores poco optimizados (no se detectan mejores opciones)
‚Ä¢	Imposibilidad de justificar inversiones ante gerencia sin evidencia cuantitativa
‚Ä¢	Dificultad para implementar mejoras sin l√≠nea base de indicadores
‚Ä¢	Oportunidades perdidas de ahorro en compras consolidadas o por volumen
‚Ä¢	Falta de argumentos s√≥lidos para negociaci√≥n con proveedores
‚Ä¢	Desconocimiento de √°reas cr√≠ticas que requieren mayor atenci√≥n log√≠stica
________________________________________
Problemas adicionales identificados
Top 4: Proceso de aprobaciones lento y sin trazabilidad
Causas: Aprobaciones en papel, dependencia de disponibilidad f√≠sica del jefe, falta de plazos definidos
Consecuencias:
‚Ä¢	Solicitudes que tardan 5-10 d√≠as en ser aprobadas
‚Ä¢	Acumulaci√≥n de solicitudes pendientes
‚Ä¢	Falta de registro de qui√©n aprob√≥ y cu√°ndo
Top 5: Gesti√≥n deficiente de proveedores
Causas: Falta de evaluaci√≥n objetiva, ausencia de base de datos centralizada, comunicaci√≥n informal
Consecuencias:
‚Ä¢	Dependencia de proveedores √∫nicos sin alternativas
‚Ä¢	Desconocimiento de desempe√±o real (entregas, calidad, precio)
‚Ä¢	Dificultad para negociar mejores condiciones

5. PROPUESTA DE VALOR √öNICA
"Sistema de gesti√≥n log√≠stica administrativa para la Cl√≠nica San Juan Bautista que elimina las discrepancias de inventario hasta en un 90% y reduce el tiempo de atenci√≥n de solicitudes de 7 d√≠as a menos de 24 horas, con una interfaz tan intuitiva que el personal administrativo domina en menos de 2 horas."
6. SOLUCI√ìN
1. Interfaz Adaptable y de Alto Rendimiento
Compatibilidad universal:
‚Ä¢	Funciona en cualquier dispositivo: PC de escritorio, laptops, tablets administrativas y smartphones
‚Ä¢	Acceso desde navegador web moderno (Chrome, Firefox, Safari, Edge)
‚Ä¢	Dise√±o responsive que se adapta autom√°ticamente al tama√±o de pantalla
‚Ä¢	Ideal para personal en movimiento entre √°reas de la cl√≠nica
Optimizaci√≥n en rendimiento:
‚Ä¢	Respuesta r√°pida incluso en horarios de m√°xima actividad (cambios de turno, cierre de mes)
‚Ä¢	Consultas en tiempo real sin lentitud o cuelgues del sistema
‚Ä¢	Cach√© inteligente para acceso r√°pido a datos frecuentes
‚Ä¢	Infraestructura escalable en la nube o servidor on-premise
Gesti√≥n de base de datos simplificada:
‚Ä¢	El administrador de log√≠stica puede configurar categor√≠as de productos, niveles de stock m√≠nimo y proveedores sin necesidad de conocimientos SQL
‚Ä¢	Panel administrativo intuitivo con men√∫s desplegables y formularios guiados
‚Ä¢	Permisos diferenciados por rol:
‚Ä¢	Admin Log√≠stica: Control total, configuraci√≥n del sistema, generaci√≥n de reportes
‚Ä¢	Personal Almac√©n: Registro de entradas, salidas y control f√≠sico
‚Ä¢	Jefes de Departamento: Solicitudes, consulta de estado
‚Ä¢	Gerencia: Visualizaci√≥n de dashboards y reportes ejecutivos
Escalabilidad futura:
‚Ä¢	Preparado para expansi√≥n a m√∫ltiples sedes de la cl√≠nica (si es necesario)
‚Ä¢	Arquitectura modular que permite agregar nuevos m√≥dulos (contabilidad, n√≥mina, etc.)
Problema que resuelve:
Errores por sistemas obsoletos o no integrados, y dificultades administrativas en la configuraci√≥n t√©cnica
2. Implementaci√≥n Sencilla e Intuitiva
Dise√±o espec√≠fico para la Cl√≠nica San Juan Bautista:
‚Ä¢	Interfaz dise√±ada basada en flujos reales del √°rea administrativa
‚Ä¢	No es una soluci√≥n gen√©rica, sino adaptada a procesos espec√≠ficos de la cl√≠nica
‚Ä¢	Colores, terminolog√≠a y estructura ajustados a la cultura organizacional
Integraci√≥n sin fricci√≥n:
‚Ä¢	Instalaci√≥n r√°pida: 2-4 horas m√°ximo en la infraestructura de la cl√≠nica
‚Ä¢	Migraci√≥n de datos asistida: Importaci√≥n de productos existentes desde Excel o base de datos anterior
‚Ä¢	Uso operativo inmediato: El equipo puede comenzar a usar el sistema en 24-48 horas despu√©s de instalaci√≥n
Curva de aprendizaje m√≠nima:
‚Ä¢	Capacitaci√≥n en menos de 2 horas: Sesi√≥n pr√°ctica con ejemplos reales
‚Ä¢	Manual visual con capturas de pantalla para cada proceso clave
‚Ä¢	Videos tutoriales cortos (3-5 minutos) disponibles dentro del sistema
‚Ä¢	Asistencia contextual: Botones de ayuda en cada pantalla explicando opciones
‚Ä¢	Soporte t√©cnico dedicado durante los primeros 30 d√≠as
Soporte remoto integrado:
‚Ä¢	Chat de soporte directo dentro de la aplicaci√≥n
‚Ä¢	Asistencia t√©cnica por videollamada si es necesario
‚Ä¢	Documentaci√≥n actualizada en el portal de help del cliente
Problema que resuelve:
Miedo a la complejidad del software y temor por una curva de aprendizaje elevada
3. Interfaz Visual con Formularios Guiados y Confirmaci√≥n (SOLUCI√ìN ADAPTADA)
Formularios intuitivos para solicitudes:
‚Ä¢	Solicitud de materiales en 3 pasos:
1.	Seleccionar departamento y producto (con b√∫squeda facilitada)
2.	Indicar cantidad requerida y justificaci√≥n breve
3.	Confirmar y enviar autom√°ticamente al jefe de log√≠stica
‚Ä¢	Uso de desplegables y opciones predefinidas en lugar de campos de texto libre
‚Ä¢	Validaci√≥n autom√°tica de cantidad m√≠nima y m√°xima permitida por rol
‚Ä¢	Iconos y colores para diferenciar tipos de solicitud (urgente, normal, revisi√≥n)
Gesti√≥n de inventario visual:
‚Ä¢	Dashboard de stock en colores:
‚Ä¢	üü¢ Verde: Producto en nivel √≥ptimo
‚Ä¢	üü° Amarillo: Stock bajo, requiere atenci√≥n
‚Ä¢	üî¥ Rojo: Stock cr√≠tico, compra urgente
‚Ä¢	Vista de almac√©n mostrando ubicaciones f√≠sicas de productos
‚Ä¢	Fotograf√≠as de productos para identificaci√≥n r√°pida
Flujo de trabajo simplificado:
‚Ä¢	Diagrama visual del estado de la solicitud (Pendiente ‚Üí En Aprobaci√≥n ‚Üí Despachada ‚Üí Entregada)
‚Ä¢	Notificaciones autom√°ticas en cada cambio de estado
‚Ä¢	Confirmaci√≥n con un clic para recepciones o entregas
Problema que resuelve:
Errores en solicitudes, confusi√≥n con nombres t√©cnicos y tiempos prolongados de procesamiento

4. Gesti√≥n de Inventario en Tiempo Real
Control automatizado de stock:
‚Ä¢	Cada movimiento actualiza autom√°ticamente el inventario en tiempo real:
‚Ä¢	Recepci√≥n de compra ‚Üë suma stock
‚Ä¢	Despacho a departamento ‚Üì resta stock
‚Ä¢	Ajuste por da√±ados o vencidos se registra manualmente con justificaci√≥n
‚Ä¢	Sincronizaci√≥n entre almacenes si la cl√≠nica tiene m√∫ltiples dep√≥sitos
Alertas inteligentes:
‚Ä¢	Notificaciones autom√°ticas al jefe de log√≠stica cuando stock llega al m√≠nimo configurado
‚Ä¢	Alertas escaladas: si no se atiende en 24 horas, notificaci√≥n a gerencia
‚Ä¢	Reporte diario de productos en riesgo de desabastecimiento
Proyecci√≥n de demanda (Fase 2):
‚Ä¢	Basada en hist√≥ricos de consumo identifica patrones de consumo por √°rea
‚Ä¢	Sugiere compras preventivas basadas en tendencias
‚Ä¢	Proyecta necesidad de compra para los pr√≥ximos 30 d√≠as
Reportes din√°micos de inventario:
‚Ä¢	Gr√°ficos de rotaci√≥n: productos r√°pidos vs lentos
‚Ä¢	An√°lisis de desperdicios: productos vencidos o sin movimiento
‚Ä¢	Valor total de inventario actualizado en tiempo real
‚Ä¢	Comparativa f√≠sica vs registros (para auditor√≠a)
Problema que resuelve:
Falta de control integrado de inventario, desperdicios por productos olvidados, compras urgentes innecesarias




5. Reportes Autom√°ticos y Anal√≠tica para Toma de Decisiones
Reportes de solicitudes y movimientos en tiempo real:
‚Ä¢	Estado diario de solicitudes: Cu√°ntas est√°n pendientes, aprobadas, en proceso, entregadas
‚Ä¢	Tiempo promedio de atenci√≥n por tipo de solicitud y por √°rea
‚Ä¢	Tasa de cumplimiento: % de solicitudes entregadas a tiempo vs retrasadas
‚Ä¢	Identificaci√≥n de cuellos de botella: √Åreas que generan m√°s demora
An√°lisis de consumo por departamento:
‚Ä¢	Consumo mensual por √°rea administrativa
‚Ä¢	Productos m√°s solicitados por departamento
‚Ä¢	Comparativa con per√≠odos anteriores (mes anterior, misma √©poca del a√±o pasado)
‚Ä¢	Proyecci√≥n de consumo para planificaci√≥n presupuestal
Evaluaci√≥n de proveedores:
‚Ä¢	Indicadores OTIF (On Time In Full): % de entregas a tiempo y con cantidad correcta
‚Ä¢	Tiempo promedio de entrega por proveedor
‚Ä¢	Comparativa de precios entre proveedores para el mismo producto
‚Ä¢	Tasa de calidad: Devoluciones, productos defectuosos
Dashboard ejecutivo para gerencia:
‚Ä¢	Visualizaci√≥n en gr√°ficos f√°ciles de interpretar:
‚Ä¢	Costo total de log√≠stica del mes
‚Ä¢	Ahorro vs presupuesto asignado
‚Ä¢	Productos de mayor rotaci√≥n
‚Ä¢	KPIs clave: nivel de servicio, tasa de cumplimiento, costo por movimiento
‚Ä¢	Alertas visuales para desviaciones del presupuesto o indicadores cr√≠ticos
‚Ä¢	Capacidad de exportar a PowerPoint o PDF para presentaciones directivas
An√°lisis de eficiencia log√≠stica:
‚Ä¢	D√≠as de inventario promedio (rotaci√≥n)
‚Ä¢	Costo administrativo por solicitud procesada
‚Ä¢	Comparativa de costos de compra actual vs compra consolidada
‚Ä¢	ROI estimado del sistema (en funci√≥n de ahorros medidos)
Problema que resuelve:
Ausencia de reportes confiables, decisiones basadas en intuici√≥n en lugar de datos, imposibilidad de justificar inversiones

Comparaci√≥n: Soluci√≥n Anterior vs Sistema de Gesti√≥n Log√≠stica SJB
Aspecto	Antes (Manual/Excel)	Sistema SJB	Mejora
Tiempo Solicitud	5-10 minutos de escritura + espera
3 minutos en sistema
50-70% m√°s r√°pido
Errores Solicitud	12-18% tasa de error
<2% tasa de error
90% reducci√≥n
Trazabilidad	0% documentada
100% digital respaldada
Total
Reportes Manuales	8-12 horas/mes compilando datos
Autom√°ticos, actualizados en tiempo real
Eliminado
Visibilidad Inventario	End-of-day (actualizaci√≥n tard√≠a)
Tiempo real con alertas
Mejora cr√≠tica
Compras Emergencia	3-5 por mes con sobrecosto
<1 por mes
80% reducci√≥n
Acceso Informaci√≥n	Solo jefe de log√≠stica tiene datos
Multi-usuario, personalizado por rol
Total
Capacitaci√≥n	2-3 d√≠as + consultas frecuentes
2 horas + soporte remoto
75% reducci√≥n
________________________________________
Tecnolog√≠a Utilizada (Backend/Frontend)
Stack Tecnol√≥gico:
‚Ä¢	Backend: Spring Boot 3.x con arquitectura REST y seguridad JWT
‚Ä¢	Frontend: Angular 17+ con dise√±o responsive
‚Ä¢	Base de Datos: MySQL 8 o PostgreSQL (seg√∫n infraestructura de cl√≠nica)
‚Ä¢	Reportes: Generaci√≥n autom√°tica en PDF/Excel con Apache POI
‚Ä¢	Hosting: On-premise o Cloud (AWS, Azure, seg√∫n preferencia cl√≠nica)
Esta soluci√≥n transforma la gesti√≥n log√≠stica administrativa de la Cl√≠nica San Juan Bautista de un proceso manual, lento y propenso a errores en un sistema digital automatizado, preciso y escalable
7. CANALES DE DISTRIBUCI√ìN Y ACCESO
Estrategia: Modelo de Ventas Transaccional B2B
El sistema de gesti√≥n log√≠stica se vender√° principalmente a trav√©s de canales directos, aprovechando el contexto institucional de la Cl√≠nica San Juan Bautista:
1. Venta Directa a Cl√≠nica San Juan Bautista (Cliente Principal)
Estrategia de acercamiento personalizado:
‚Ä¢	Meeting con Gerencia Administrativa: Presentaci√≥n del prospecto, problemas identificados y propuesta de valor
‚Ä¢	Demostraci√≥n en vivo: Instalaci√≥n temporal del sistema en las instalaciones de la cl√≠nica
‚Ä¢	Per√≠odo de prueba: 14-30 d√≠as sin costo, con soporte t√©cnico dedicado
‚Ä¢	Decisi√≥n de compra: Cierre con la gerencia despu√©s de validaci√≥n operativa
Target decisor espec√≠fico:
‚Ä¢	Gerente/Director Administrativo (45-60 a√±os)
‚Ä¢	Jefe de Log√≠stica (35-50 a√±os)
‚Ä¢	Estos perfiles valoran el contacto directo y la confianza en persona
‚Ä¢	Necesitan ver resultados reales antes de comprometerse
Ventaja de este canal:
‚Ä¢	Genera confianza inmediata al resolver problemas espec√≠ficos identificados
‚Ä¢	Reduce percepci√≥n de riesgo al demostrar directamente la soluci√≥n
‚Ä¢	Personalizaci√≥n del sistema seg√∫n necesidades exactas de la cl√≠nica
‚Ä¢	Cierre m√°s r√°pido (2-8 semanas desde primer contacto)

2. Demostraci√≥n Presencial en Instalaciones
Acciones clave de la demostraci√≥n:
‚Ä¢	Instalaci√≥n r√°pida: Montaje del sistema en 2-4 horas en infraestructura de la cl√≠nica
‚Ä¢	Capacitaci√≥n en vivo: Simulaci√≥n de solicitudes reales con personal de log√≠stica
‚Ä¢	Experiencia pr√°ctica: Personal del almac√©n y jefes de departamento prueban el sistema
‚Ä¢	Recopilaci√≥n de feedback: Notas sobre mejoras y ajustes necesarios
Per√≠odo de prueba: 14-30 d√≠as incluye:
‚Ä¢	Acceso total a todas las funcionalidades del sistema
‚Ä¢	Importaci√≥n de datos existentes (productos, proveedores, hist√≥ricos)
‚Ä¢	Soporte t√©cnico remoto 24/5 (correo, tel√©fono, videollamada)
‚Ä¢	Capacitaci√≥n adicional si es necesaria
‚Ä¢	Sin costo de licencia durante per√≠odo de prueba
Impacto esperado:
‚Ä¢	Tasa de conversi√≥n esperada: 65-75% de pruebas terminan en compra si la experiencia es positiva
‚Ä¢	Eliminaci√≥n de objeciones: "¬øser√° f√°cil de usar?" se resuelve con experiencia directa
‚Ä¢	Generaci√≥n de enthusiasts internos: El personal que prueba se convierte en promotor
3. Acceso a trav√©s de Plataforma Web Institucional (Futuro)
P√°gina web dedicada para venta SaaS (desarrollo Fase 2):
‚Ä¢	Portal de presentaci√≥n del sistema
‚Ä¢	C√°lculo de ROI en l√≠nea (basado en par√°metros de la cl√≠nica)
‚Ä¢	Bot√≥n de solicitud de demostraci√≥n presencial
‚Ä¢	Blog con casos de estudio y mejores pr√°cticas log√≠sticas
‚Ä¢	Documentaci√≥n t√©cnica y requerimientos de sistema

4. Canales Secundarios (Expansi√≥n Futura)
Si el sistema escala a otras cl√≠nicas peque√±as/medianas:
Alianzas con consultores administrativos:
‚Ä¢	Consultores que trabajan con cl√≠nicas ofrecen el sistema como soluci√≥n integrada
‚Ä¢	Comisi√≥n o margen por referencia
Distribuidores de software m√©dico-administrativo (regi√≥n):
‚Ä¢	Partners tecnol√≥gicos que venden software a hospitales y cl√≠nicas
‚Ä¢	Modelo de reseller con margen negociado
Exposiciones y ferias de salud:
‚Ä¢	Presencia en eventos sanitarios con booth de demostraci√≥n
‚Ä¢	Contacto directo con administradores de cl√≠nicas
8. FLUJO DE INGRESOS
Modelo de Ingresos: Licencia Anual SaaS con Soporte Incluido
Filosof√≠a del modelo:
‚Ä¢	Ingresos predecibles y recurrentes (anual)
‚Ä¢	Cliente paga por acceso a software + servicios, no por propiedad
‚Ä¢	Alineaci√≥n de intereses: nuestro √©xito depende de satisfacci√≥n del cliente
1. Licencia Anual con Mantenimiento y Soporte Incluido
Modelo principal de ingreso:
Componente	Descripci√≥n	Incluido
Acceso al sistema	Uso ilimitado para todos los usuarios autorizados
‚úÖ
Soporte t√©cnico b√°sico	Resoluci√≥n de incidencias, dudas frecuentes, gu√≠a de uso
‚úÖ
Actualizaciones menores	Correcciones de bugs y mejoras de seguridad autom√°ticas
‚úÖ
Actualizaciones funcionales	Nuevas caracter√≠sticas (2-4 nuevas funciones anuales)
‚úÖ
Acceso a tutoriales	Biblioteca de videos, manuales digitales e interactive guides
‚úÖ
Capacitaci√≥n de nuevos empleados	Sesiones de inducci√≥n para personal de rotaci√≥n
‚úÖ (hasta 2 sesiones/a√±o)
Respaldo de datos	Backups autom√°ticos diarios en servidores seguros
‚úÖ
Reportes ejecutivos	Acceso a dashboards y reportes autom√°ticos
‚úÖ
Ventaja de este modelo:
‚Ä¢	Asegura servicio continuo (el cliente nunca queda "abandonado" despu√©s de compra)
‚Ä¢	Reduce miedo del cliente a costos ocultos o sorpresas
‚Ä¢	Incentiva uso activo del sistema para obtener valor
2. Estructura de Precios - Propuesta Inicial
Tarifa anual para Cl√≠nica San Juan Bautista:
Opci√≥n 1 - Licencia Est√°ndar: S/. 1,500 - 2,000 anuales (S/. 125 - 167 mensuales)
Justificaci√≥n del rango de precio:
M√©trica	Valor	C√°lculo
Costo anual actual por errores/ineficiencia	S/. 15,000 - 25,000	P√©rdidas por desabastecimiento, compras emergencia, tiempo administrativo
Ahorro anual esperado con sistema	S/. 8,000 - 15,000	20-30% reducci√≥n de costos log√≠sticos
ROI del sistema	400-1000% anual	Sistema se paga en 1.5 - 3 meses
Costo por solicitud procesada hoy	S/. 50 - 100	Manual + tiempo perdido
Costo por solicitud con sistema	S/. 5 - 10	Automatizado
Conclusi√≥n: El sistema genera retorno en 4-8 semanas, lo que lo hace irresistible como inversi√≥n
Comparaci√≥n con mercado:
‚Ä¢	Software ERP hospitalario gen√©rico: S/. 8,000 - 15,000 anuales (muy complejo, no especializado)
‚Ä¢	Consultor√≠a en mejora log√≠stica: S/. 10,000 - 20,000 (√∫nica vez, sin sistema)
‚Ä¢	Sistema SJB (propuesta): S/. 1,500 - 2,000 (especializado, soporte continuo)
Positioning: "Soluci√≥n especializada a 1/5 del precio de gen√©ricos, con soporte dedicado"
3. Opciones de Pago
Pago √∫nico anual (opci√≥n recomendada):
‚Ä¢	Monto: S/. 1,500 - 2,000
‚Ä¢	Formas de pago:
‚Ä¢	Transferencia bancaria (descuento 2% por pronto pago)
‚Ä¢	Tarjeta de cr√©dito
‚Ä¢	Cheque (dependiendo de pol√≠tica cl√≠nica)
Pago fraccionado (opci√≥n flexible para dif√≠cil cierre):
‚Ä¢	2 cuotas semestrales: S/. 775 - 1,025 c/u (sin recargo)
‚Ä¢	3 cuotas trimestrales: S/. 525 - 700 c/u (con 3% recargo = S/. 1,545 - 2,060 total)
Ventaja del modelo de pago √∫nico:
‚Ä¢	Simplifica facturaci√≥n y reconciliaci√≥n
‚Ä¢	Sin costo administrativo de m√∫ltiples cobros
‚Ä¢	Cliente aprecia la claridad (sin cargos sorpresas mensuales)
4. Ciclo de Renovaci√≥n y Retenci√≥n
Modelo de retenci√≥n cliente:
1.	Mes 11 de suscripci√≥n: Contacto para renovaci√≥n
‚Ä¢	Env√≠o de notificaci√≥n de renovaci√≥n autom√°tica
‚Ä¢	Recordatorio de beneficios y uso durante el a√±o
‚Ä¢	Recopilaci√≥n de feedback para mejoras
2.	Ofertas de renovaci√≥n:
‚Ä¢	Early renewal (2 meses antes): Descuento 10% por renovaci√≥n anticipada
‚Ä¢	Renovaci√≥n normal: Precio est√°ndar
‚Ä¢	Riesgo de churn: Si no renueva, contacto directo del gerente de cuenta
3.	Estrategia de upsell (A√±o 2+):
‚Ä¢	Si sistema es exitoso, ofrecer m√≥dulos adicionales (Finanzas, RRHH)
‚Ä¢	Modelo de "feature tiering":
‚Ä¢	B√°sico (S/. 1,500): Inventario + Solicitudes
‚Ä¢	Profesional (S/. 2,500): + Reportes Avanzados + API integraciones
‚Ä¢	Empresarial (S/. 4,000): + M√∫ltiples sedes + Soporte prioritario
________________________________________
5. Flujo de Ingresos Proyectado (Cl√≠nica SJB + Expansi√≥n Futura)
A√±o 1 (Cl√≠nica SJB):
‚Ä¢	Ingresos: S/. 1,500 - 2,000 (1 cliente)
‚Ä¢	Objetivo: Validar modelo, conseguir testimonial, referencias
A√±o 2 (Expansi√≥n a 3-5 cl√≠nicas medianas):
‚Ä¢	Ingresos: S/. 7,500 - 12,000 (5 clientes √ó S/. 1,500-2,400)
‚Ä¢	Objetivo: Consolidar posici√≥n, mejorar sistema
A√±o 3 (Escalamiento a 10+ cl√≠nicas):
‚Ä¢	Ingresos: S/. 20,000 - 30,000 (10+ clientes)
‚Ä¢	Objetivo: Rentabilidad operativa, reinvertir en desarrollo
6. Estrategia de Integraci√≥n con Canales de Venta
En visitas directas:
‚Ä¢	Cierre inmediato de suscripci√≥n post-demostraci√≥n
‚Ä¢	Firma de contrato SaaS (1-2 p√°ginas)
‚Ä¢	Primer pago en transferencia bancaria (24-48 horas)
‚Ä¢	Activaci√≥n de cuenta en 48 horas
En redes sociales/web (futuro):
‚Ä¢	Bot√≥n "Solicitar Demostraci√≥n Gratuita"
‚Ä¢	Prueba SaaS autom√°tica por 7 d√≠as (sin tarjeta de cr√©dito)
‚Ä¢	Cierre de venta por tel√©fono/email
Complementos opcionales (con costo adicional):
‚Ä¢	Instalaci√≥n presencial + configuraci√≥n inicial: S/. 500 (transferencia de datos, customizaci√≥n)
‚Ä¢	Capacitaci√≥n intensiva (2 d√≠as): S/. 800
‚Ä¢	Consultor√≠a de optimizaci√≥n log√≠stica: S/. 100/hora
Resumen: Canales + Flujo de Ingresos
Fase	Canal Principal	Modelo Ingreso	Cliente Target	Tasa Conversi√≥n
Fase 1 (Actual)	Venta directa presencial	SaaS anual S/. 1,500-2,000	Cl√≠nica SJB	100% (cliente √∫nico)
Fase 2 (6-12 meses)	Venta directa + web + alianzas	SaaS anual escalado	3-5 cl√≠nicas medianas	60-70% de demostraciones
Fase 3 (12-24 meses)	Venta directa + resellers	Feature tiering SaaS	10+ cl√≠nicas	40-50% overall

9. M√âTRICAS CLAVE (KPIs) DEL SISTEMA
Prop√≥sito de las M√©tricas
Las m√©tricas clave permiten cuantificar objetivamente el desempe√±o del sistema y validar que se cumplen las promesas de valor hechas a la Cl√≠nica San Juan Bautista.
1. Tiempo Promedio de Atenci√≥n de Solicitud
Qu√© mide: Rapidez en la recepci√≥n, procesamiento y atenci√≥n de solicitudes administrativas desde que se registra hasta que se despacha
Por qu√© es clave: Valida la promesa central de tu sistema: "reducir el tiempo de atenci√≥n de 7 d√≠as a menos de 24 horas"
C√≥mo medirlo:
‚Ä¢	Registrar autom√°ticamente timestamp de creaci√≥n y cierre de solicitud en el sistema
‚Ä¢	Calcular diferencia en horas
‚Ä¢	Promediar durante 30 d√≠as por tipo de solicitud y departamento
‚Ä¢	Desglosar por: solicitudes urgentes, normales, revisadas
Baseline (Situaci√≥n Actual):
‚Ä¢	Antes del sistema: 5-7 d√≠as (120-168 horas)
‚Ä¢	Factores de demora: papel perdido, comunicaci√≥n telef√≥nica, falta de seguimiento, reuniones para aprobaci√≥n
Meta con Sistema (Objetivo Mes 3):
‚Ä¢	Solicitudes normales: < 24 horas (m√°ximo)
‚Ä¢	Solicitudes urgentes: < 4 horas
‚Ä¢	Solicitudes en revisi√≥n: < 48 horas
F√≥rmula KPI:
Tiempo Promedio = (Fecha/Hora Cierre - Fecha/Hora Creaci√≥n) / Total Solicitudes
Meta = ‚â§ 24 horas para 95% de solicitudes
Impacto esperado:
‚Ä¢	Menor frustraci√≥n del personal administrativo por esperas
‚Ä¢	Departamentos reciben recursos a tiempo
‚Ä¢	Reducci√≥n de solicitudes duplicadas por impaciencia
‚Ä¢	Mayor productividad administrativa
2. Tasa de Errores en Solicitudes
Qu√© mide: Porcentaje de solicitudes que llegan con errores de cantidad, producto incorrecto, o informaci√≥n faltante
Por qu√© es clave: Refleja la capacidad del sistema de "eliminar errores en solicitudes administrativas" y reducir retrabajos
C√≥mo medirlo:
‚Ä¢	Registrar solicitudes con errores detectados en recepci√≥n (cantidad vs solicitado, producto incorrecto)
‚Ä¢	Registrar solicitudes que requieren aclaraci√≥n o correcci√≥n
‚Ä¢	C√°lculo: (Solicitudes con Error / Total de Solicitudes) √ó 100

Baseline (Situaci√≥n Actual):
‚Ä¢	Antes del sistema: 12-18% de solicitudes con errores o imprecisiones
‚Ä¢	Causas: escritura manual poco clara, falta de validaci√≥n, confusi√≥n en nombres de productos
Meta con Sistema (Objetivo Mes 2):
‚Ä¢	Tasa de error: < 2%
‚Ä¢	Solicitudes con toda la informaci√≥n correcta: > 98%
F√≥rmula KPI:
Tasa Error = (Solicitudes con Error / Total Solicitudes) √ó 100
Meta = ‚â§ 2%
Impacto esperado:
‚Ä¢	Reducci√≥n de retrabajos y correcciones (ahorro de 5-8 horas/mes)
‚Ä¢	Mayor confiabilidad de la informaci√≥n en el sistema
‚Ä¢	Mejor experiencia de usuario final
‚Ä¢	Aprovisionamiento m√°s preciso
3. Tiempo de Capacitaci√≥n de Nuevos Empleados
Qu√© mide: Tiempo requerido para que un nuevo empleado administrativo use el sistema correctamente sin cometer errores en solicitudes
Por qu√© es clave: Respalda la promesa de que la interfaz es "tan intuitiva que cualquier empleado domina en menos de 2 horas"
C√≥mo medirlo:
‚Ä¢	Cronometrar tiempo desde inicio de capacitaci√≥n hasta que el empleado procesa 5 solicitudes correctamente sin errores
‚Ä¢	Incluir tiempo de lectura de manual + sesi√≥n pr√°ctica + pruebas
‚Ä¢	Registrar por cada nuevo contratado
Baseline (Situaci√≥n Actual):
‚Ä¢	Antes del sistema: 3-4 d√≠as de capacitaci√≥n + experiencia en el trabajo = 16-20 horas
‚Ä¢	M√©todo: "aprender haciendo" con supervisi√≥n, muchas correcciones iniciales
Meta con Sistema (Objetivo Permanente):
‚Ä¢	Tiempo efectivo de capacitaci√≥n: ‚â§ 90 minutos
‚Ä¢	Desglose:
‚Ä¢	30 min: Manual visual + videos tutoriales
‚Ä¢	40 min: Pr√°ctica simulada en el sistema
‚Ä¢	20 min: Prueba con datos reales bajo supervisi√≥n
F√≥rmula KPI:
Tiempo Capacitaci√≥n = Hora Inicio - Hora Fin (hasta competencia)
Meta = ‚â§ 90 minutos
Impacto esperado:
‚Ä¢	Menor rotaci√≥n de personal por frustraci√≥n en aprendizaje
‚Ä¢	Reducci√≥n de costos de entrenamiento (horas-hombre)
‚Ä¢	Incorporaci√≥n r√°pida de empleados temporales (per√≠odos de mayor demanda)
‚Ä¢	Mejor retenci√≥n de talento administrativo
4. Precisi√≥n de Inventario (Discrepancia F√≠sico vs Sistema)
Qu√© mide: Porcentaje de diferencia entre inventario te√≥rico (en sistema) e inventario f√≠sico real
Por qu√© es clave: Valida el beneficio de "eliminar discrepancias de inventario hasta 90%", evitando compras de emergencia y desperdicios
C√≥mo medirlo:
‚Ä¢	Realizar conteos f√≠sicos mensuales en almac√©n (seleccionando muestras de productos)
‚Ä¢	Comparar con registros del sistema
‚Ä¢	C√°lculo: |Stock F√≠sico - Stock Sistema| / Stock Sistema √ó 100
Baseline (Situaci√≥n Actual):
‚Ä¢	Antes del sistema: 15-25% discrepancia promedio
‚Ä¢	Causas: entradas/salidas no registradas, movimientos entre √°reas no documentados, mermas no justificadas

Meta con Sistema (Objetivo Mes 3):
‚Ä¢	Discrepancia m√°xima: < 2%
‚Ä¢	Confiabilidad del inventario: > 98%
F√≥rmula KPI:
Precisi√≥n Inventario = (1 - |Stock F√≠sico - Stock Sistema| / Stock Sistema) √ó 100
Meta = ‚â• 98%
Impacto esperado:
‚Ä¢	Eliminaci√≥n de compras urgentes por desabastecimiento falso
‚Ä¢	Reducci√≥n de sobre-stock y productos sin movimiento
‚Ä¢	Auditor√≠as facilitadas con informaci√≥n confiable
‚Ä¢	Trazabilidad completa de movimientos
5. Tasa de Cumplimiento de Solicitudes a Tiempo
Qu√© mide: Porcentaje de solicitudes que fueron despachadas en el plazo indicado por el solicitante
Por qu√© es clave: Refleja la capacidad operativa del sistema y satisfacci√≥n del usuario interno
C√≥mo medirlo:
‚Ä¢	Solicitud indica "fecha requerida"
‚Ä¢	Registrar fecha de despacho real
‚Ä¢	C√°lculo: (Solicitudes Despachadas On Time / Total Solicitudes) √ó 100
Baseline (Situaci√≥n Actual):
‚Ä¢	Antes del sistema: 60-70% de cumplimiento (muchas demoras no documentadas)
Meta con Sistema (Objetivo Mes 4):
‚Ä¢	Tasa de cumplimiento: ‚â• 95%
‚Ä¢	M√°xima demora justificada: 5% de solicitudes puede tener 1-2 d√≠as de retraso (por disponibilidad proveedor)
F√≥rmula KPI:
Cumplimiento On Time = (Solicitudes Despachadas ‚â§ Fecha Requerida / Total) √ó 100
Meta = ‚â• 95%
Impacto esperado:
‚Ä¢	Mayor satisfacci√≥n de clientes internos (departamentos)
‚Ä¢	Confianza en la capacidad de log√≠stica de planificar entregas
‚Ä¢	Reducci√≥n de urgencias y retrabajos por retrasos
6. Reducci√≥n de Costos Log√≠sticos Anuales
Qu√© mide: Ahorro total en costos administrativos log√≠sticos despu√©s de implementar el sistema
Por qu√© es clave: Es la m√©trica financiera que justifica la inversi√≥n (ROI del proyecto)
C√≥mo medirlo:
‚Ä¢	Comparar costos pre vs post sistema:
‚Ä¢	Costo de compras de emergencia (sobreprecio 25-40%)
‚Ä¢	Tiempo administrativo (horas-hombre dedicadas a log√≠stica)
‚Ä¢	Desperdicio por vencimiento/productos sin rotaci√≥n
‚Ä¢	Retrabajos por errores
Baseline (Situaci√≥n Actual):
‚Ä¢	Costo anual estimado de ineficiencia: S/. 15,000 - 25,000
‚Ä¢	Compras emergencia: S/. 8,000 - 12,000
‚Ä¢	Tiempo administrativo no productivo: S/. 5,000 - 8,000
‚Ä¢	Desperdicios/vencimientos: S/. 2,000 - 5,000
Meta con Sistema (Objetivo A√±o 1):
‚Ä¢	Reducci√≥n de costos: 20-30% (S/. 3,000 - 7,500 ahorrados)
‚Ä¢	ROI: Sistema se paga en 3-8 meses
F√≥rmula KPI:
Ahorro Anual = Costo Antes - Costo Despu√©s
ROI % = (Ahorro Anual / Costo Licencia) √ó 100
Meta = ‚â• 200% ROI anual

Impacto esperado:
‚Ä¢	Justificaci√≥n clara de inversi√≥n ante gerencia
‚Ä¢	Presupuesto log√≠stico m√°s eficiente
‚Ä¢	Base para ampliaci√≥n del sistema a otros departamentos
Tabla Resumen: KPIs del Sistema
KPI	M√©trica Actual	Meta Mes 3	Meta A√±o 1	Impacto
Tiempo Atenci√≥n Solicitud	5-7 d√≠as	< 24 horas	< 24 horas (95%)	70% reducci√≥n tiempo
Tasa Errores Solicitud	12-18%	< 5%	< 2%	90% menos errores
Capacitaci√≥n Nueva Empleado	16-20 horas	< 120 min	< 90 min	90% reducci√≥n capacitaci√≥n
Precisi√≥n Inventario	75-85%	> 95%	> 98%	23-33pp mejora
Cumplimiento On Time	60-70%	> 90%	> 95%	25-35pp mejora
Reducci√≥n Costos Log√≠sticos	Base 100%	-10%	-20-30%	S/. 3,000-7,500 anuales

10. VENTAJA ESPECIAL (DIFERENCIADOR √öNICO)
Propuesta Central
"Sistema desarrollado espec√≠ficamente para la Cl√≠nica San Juan Bautista, incorporando la experiencia real del √°rea administrativa, no un software gen√©rico adaptado."
1. Experiencia Operativa Real como Diferenciador
No es un software gen√©rico para hospitales:
‚Ä¢	Est√° construido en colaboraci√≥n directa con el equipo de log√≠stica de la Cl√≠nica San Juan Bautista
‚Ä¢	Cada funcionalidad responde a problemas vividos diariamente (solicitudes perdidas, inventario sin control, aprobaciones lentas)
‚Ä¢	Cada pantalla, cada formulario fue validado por personal administrativo real

Diferencia clave:
‚Ä¢	Software gen√©rico: "Aqu√≠ va un campo de cantidad" ‚Üí confuso para administrativos
‚Ä¢	Sistema SJB: "Aqu√≠ indicas la cantidad requerida. La m√°xima es X (basada en tu presupuesto)"
‚Ä¢	El sistema habla el mismo idioma del negocio administrativo
Ventaja competitiva:
‚Ä¢	Soluci√≥n perfectamente ajustada a procesos de la cl√≠nica
‚Ä¢	Eliminaci√≥n de "gap" entre lo que el sistema ofrece y lo que realmente necesita la cl√≠nica
2. Interfaz Intuitiva Especializada en Procesos Administrativos
Implementaci√≥n pionera en sistemas hospitalarios peque√±os/medianos:
Dise√±o basado en Research con personal administrativo real:
‚Ä¢	Colores y terminolog√≠a adaptados al contexto cl√≠nico administrativo
‚Ä¢	Flujos simplificados basados en observaci√≥n de procesos reales
‚Ä¢	Botones y opciones posicionados donde el usuario las espera
Contraste con competencia:
‚Ä¢	Sistemas gen√©ricos requieren capacitaci√≥n extensa (3-5 d√≠as)
‚Ä¢	Sistema SJB: capacitaci√≥n de 90 minutos + uso inmediato
Evidencia de usabilidad:
‚Ä¢	Tasa de error en solicitudes: < 2% (vs 12-18% con procesos manuales)
‚Ä¢	Tiempo de aprendizaje: 90 min (vs 3-4 d√≠as con otros sistemas)
3. Enfoque 100% en √Årea Administrativa (No M√©dica)
Diferencial importante:
‚Ä¢	Sistemas hospitalarios generales est√°n dise√±ados para cl√≠nica m√©dica (historias cl√≠nicas, citas m√©dicas, etc.)
‚Ä¢	Sistema SJB est√° especializado en lo que realmente necesita log√≠stica: control de materiales, solicitudes, inventario
Ventaja:
‚Ä¢	Interfaz sin ruido: no hay funcionalidades m√©dicas que distraigan
‚Ä¢	Especializaci√≥n permite mejor UX y features m√°s espec√≠ficas
‚Ä¢	Precio accesible (sin pagar por funciones m√©dicas innecesarias)
4. Escalabilidad Dise√±ada desde el Inicio
Arquitectura preparada para crecer con la cl√≠nica:
Hoy: M√≥dulos b√°sicos (Inventario + Solicitudes + Reportes)
Futuro: Expansi√≥n sin fricci√≥n
‚Ä¢	Integraci√≥n con proveedores (portal B2B)
‚Ä¢	M√≥dulo de Contabilidad
‚Ä¢	M√≥dulo de RRHH
‚Ä¢	M√∫ltiples sedes (si cl√≠nica expande)
Ventaja competitiva:
‚Ä¢	No hay "l√≠mite" de usuario, almacenes o transacciones
‚Ä¢	Crecimiento ilimitado sin cambiar de plataforma
‚Ä¢	Inversi√≥n protegida a futuro
5. Relaci√≥n Cercana y Ciclo de Mejora Continua
Community-Driven Development:
‚Ä¢	Contacto directo con equipo de log√≠stica de la cl√≠nica
‚Ä¢	Feedback mensual para mejoras
‚Ä¢	Nuevas funciones basadas en necesidades reales
Ciclo de mejora √°gil:
‚Ä¢	Identificaci√≥n de problema en la cl√≠nica
‚Ä¢	Desarrollo en 2-4 semanas
‚Ä¢	Deployment y retroalimentaci√≥n
‚Ä¢	Iteraci√≥n basada en resultados
Ventaja frente a competencia:
‚Ä¢	Competidores tienen que atender a 100+ clientes (mejoras lentas)
‚Ä¢	Sistema SJB se adapta r√°pidamente a necesidades espec√≠ficas
‚Ä¢	Barrera de entrada para competidores (relaci√≥n establecida + customizaci√≥n)
6. Seguridad y Privacidad Hospitalaria desde Inicio
Cumplimiento normativo integrado:
‚Ä¢	Encriptaci√≥n de datos sensibles (informaci√≥n de compras, proveedores)
‚Ä¢	Auditor√≠a autom√°tica de todos los movimientos
‚Ä¢	Cumplimiento de pol√≠ticas de privacidad hospitalaria
‚Ä¢	Respaldo de datos autom√°tico diario
Ventaja competitiva:
‚Ä¢	No es un software "gen√©rico" que luego se adapta a seguridad m√©dica
‚Ä¢	Seguridad hospitalaria dise√±ada desde la arquitectura
7. Acceso Integrado desde Cualquier Dispositivo
Responsivo y preparado para realidad hospitalaria:
‚Ä¢	PC en oficina de log√≠stica
‚Ä¢	Tablet para verificaciones en almac√©n
‚Ä¢	Smartphone para jefes de departamento consultando estado
‚Ä¢	Sincronizaci√≥n instant√°nea entre dispositivos
Ventaja:
‚Ä¢	Personal administrativo puede trabajar desde cualquier ubicaci√≥n
‚Ä¢	Actualizaciones en tiempo real desde cualquier dispositivo
8. Ventajas Dif√≠ciles de Replicar (Moat)
Combinaci√≥n √∫nica de factores que crean una "barrera de entrada" para competidores:
Factor	Por Qu√© es Dif√≠cil de Copiar
Experiencia operativa espec√≠fica	Requiere meses de investigaci√≥n en log√≠stica hospitalaria
Relaci√≥n establecida con cl√≠nica	V√≠nculo de confianza y feedback directo establecido
Interfaz intuitiva dise√±ada para admin	Requiere investigaci√≥n UX profunda (costo y tiempo)
Datos hist√≥ricos del cliente	Sistema SJB tiene meses/a√±os de data que competidor no tiene
Customizaciones espec√≠ficas	Ajustes √∫nicos para procesos de cl√≠nica SJB
Comunidad de usuarios internos	Champions en log√≠stica que promueven el sistema internamente
Efecto red interno:
‚Ä¢	A m√°s personas usando el sistema, m√°s datos y mejoras
‚Ä¢	A m√°s mejoras, m√°s adopci√≥n
‚Ä¢	Ciclo virtuoso que es dif√≠cil de romper
11. TOMA DE REQUERIMIENTOS
Lista de M√≥dulos del Sistema de Gesti√≥n Log√≠stica
El sistema ser√° modular, permitiendo expansi√≥n futura. Se implementar√°n inicialmente 3 m√≥dulos (30-40% del proyecto), con opciones de expansi√≥n en fases posteriores:
M√ìDULO 1: GESTI√ìN DE PRODUCTOS Y CATEGOR√çAS (MVP - Mes 1-2)
Descripci√≥n: Cat√°logo centralizado de productos administrativos disponibles en la cl√≠nica
Requerimientos Funcionales:
#	Requerimiento	Descripci√≥n	Prioridad
RF-1.1	Crear Categor√≠a de Producto	El administrador log√≠stico puede crear nuevas categor√≠as (Material Oficina, Equipos C√≥mputo, Mobiliario, Consumibles, Servicios Generales)
Alta
RF-1.2	Registrar Nuevo Producto	Ingreso de nuevos productos con: c√≥digo, nombre, descripci√≥n, categor√≠a, unidad de medida, precio unitario, stock m√≠nimo, stock m√°ximo, proveedor principal
Alta
RF-1.3	Actualizar Informaci√≥n de Producto	Edici√≥n de datos del producto (excepto c√≥digo para trazabilidad)
Alta
RF-1.4	Deshabilitar/Eliminar Producto	Marcar producto como inactivo (no se puede eliminar por auditor√≠a)
Alta
RF-1.5	Buscar Producto	B√∫squeda por c√≥digo, nombre o categor√≠a con resultados en tiempo real
Alta
RF-1.6	Carga de Im√°genes	Cada producto puede tener foto para identificaci√≥n visual (interfaz simplificada para personal sin experiencia t√©cnica)
Media
RF-1.7	Ver Historial de Cambios	Registro de qui√©n modific√≥ qu√© informaci√≥n y cu√°ndo (auditor√≠a)
Media
RF-1.8	Importar Productos desde Excel	Migraci√≥n de datos existentes desde planillas Excel (solo admin log√≠stico)
Media
Requerimientos No Funcionales:
‚Ä¢	Rendimiento: B√∫squeda de productos < 2 segundos (incluso con 5,000+ productos)
‚Ä¢	Seguridad: Solo admin log√≠stico puede crear/eliminar categor√≠as. Jefes de departamento pueden ver cat√°logo completo
‚Ä¢	Disponibilidad: Accesible 24/7 desde cualquier dispositivo
‚Ä¢	Precisi√≥n: C√≥digo de producto √∫nico (no permitir duplicados)
M√ìDULO 2: GESTI√ìN DE SOLICITUDES (MVP - Mes 1-3)
Descripci√≥n: Flujo completo de solicitudes de materiales entre departamentos y log√≠stica
Requerimientos Funcionales:
#	Requerimiento	Descripci√≥n	Prioridad
RF-2.1	Crear Nueva Solicitud	Empleado administrativo selecciona: departamento, productos, cantidades, fecha requerida, justificaci√≥n
Alta
RF-2.2	Validaci√≥n Autom√°tica de Cantidad	Sistema valida cantidad m√≠nima/m√°xima seg√∫n presupuesto del departamento
Alta
RF-2.3	Cambio de Estado de Solicitud	Estados: Pendiente ‚Üí Revisi√≥n ‚Üí Aprobada ‚Üí Despachada ‚Üí Entregada ‚Üí Cancelada
Alta
RF-2.4	Notificaci√≥n de Cambio de Estado	Correo/notificaci√≥n al solicitante y jefe departamento cuando cambia estado
Alta
RF-2.5	Aprobar/Rechazar Solicitud	Jefe de log√≠stica revisa y aprueba o rechaza (con motivo si rechaza)
Alta
RF-2.6	Registrar Despacho	Almac√©n registra productos despachados y fecha/hora de entrega
Alta
RF-2.7	Confirmar Recepci√≥n	Jefe departamento confirma recepci√≥n correcta (cantidad y estado de productos)
Alta
RF-2.8	Ver Historial Completo	Trazabilidad 100%: qui√©n solicit√≥, qui√©n aprob√≥, cu√°ndo se despach√≥, qui√©n recibi√≥
Alta
RF-2.9	Listar Solicitudes Pendientes	Vista filtrada por: estado, departamento, fecha, urgencia
Alta
RF-2.10	Marcar Solicitud como Urgente	Opci√≥n de priorizaci√≥n con justificaci√≥n (requiere aprobaci√≥n del jefe)
Media
RF-2.11	Cancelar Solicitud	Solicitante puede cancelar si a√∫n est√° en estado "Pendiente"
Media
RF-2.12	Generar N√∫mero de Solicitud	Auto-generaci√≥n con formato: SJB-FECHA-SECUENCIAL (ej: SJB-20251029-0001)
Alta
Requerimientos No Funcionales:
‚Ä¢	Rendimiento: Carga de lista de solicitudes < 3 segundos
‚Ä¢	Seguridad:
‚Ä¢	Solo el solicitante y gerente pueden ver solicitud
‚Ä¢	Solo jefe log√≠stica puede cambiar estado
‚Ä¢	Solo almac√©n puede registrar despacho
‚Ä¢	Precisi√≥n: No se pueden crear 2 solicitudes con el mismo n√∫mero
‚Ä¢	Auditor√≠a: Registro autom√°tico de cada cambio de estado con timestamp y usuario
M√ìDULO 3: GESTI√ìN DE INVENTARIO (MVP - Mes 2-3)
Descripci√≥n: Control en tiempo real de stock administrativo
Requerimientos Funcionales:
#	Requerimiento	Descripci√≥n	Prioridad
RF-3.1	Registrar Entrada de Compra	Almac√©n registra recepci√≥n de compra: producto, cantidad, lote/serie (si aplica), proveedor, fecha
Alta
RF-3.2	Registrar Salida por Solicitud	Sistema actualiza autom√°ticamente stock al registrar despacho de solicitud
Alta
RF-3.3	Registrar Ajuste de Inventario	Almac√©n registra: descuentos por da√±ado, vencido, p√©rdida, con justificaci√≥n (auditor√≠a)
Alta
RF-3.4	Consultar Stock Actual	Vista en tiempo real de inventario por producto: cantidad actual, stock m√≠nimo, stock m√°ximo
Alta
RF-3.5	Alertas de Stock M√≠nimo	Notificaci√≥n autom√°tica al jefe log√≠stica cuando stock ‚â§ m√≠nimo
Alta
RF-3.6	Alertas de Stock Cr√≠tico	Notificaci√≥n urgente (rojo visual + email) cuando stock = 0
Alta
RF-3.7	Movimientos por Ubicaci√≥n	Registro de ubicaci√≥n f√≠sica en almac√©n (pasillo, estante, caja)
Media
RF-3.8	Historial de Movimientos	Trazabilidad completa: qu√© producto, cu√°ndo, cu√°nto, qui√©n, tipo de movimiento
Alta
RF-3.9	Proyecci√≥n de Stock	Basada en consumo hist√≥rico, estima d√≠as de inventario restantes
Media
RF-3.10	Conteo F√≠sico Asistido	App para contar f√≠sicamente productos en almac√©n y comparar con sistema
Media
RF-3.11	Reporte de Diferencias	Genera reporte de discrepancias: f√≠sico vs sistema (auditor√≠a)
Alta
RF-3.12	Transferencia entre √Åreas	Registro de movimiento de productos entre departamentos (ej: sobra en un √°rea falta en otra)
Media
Requerimientos No Funcionales:
‚Ä¢	Rendimiento: Actualizaci√≥n de stock en < 1 segundo despu√©s de cada movimiento
‚Ä¢	Precisi√≥n: ¬±2% discrepancia permitida (entre f√≠sico y sistema)
‚Ä¢	Seguridad: Solo almac√©n y jefe log√≠stica pueden crear movimientos
‚Ä¢	Integridad de datos: No se pueden eliminar movimientos (solo registrar correcciones)
M√ìDULO 4: REPORTES Y ANAL√çTICA (MVP - Fase 2, Mes 3+)
Descripci√≥n: Generaci√≥n de reportes autom√°ticos para toma de decisiones
Requerimientos Funcionales (no prioritarios para MVP 30-40%):
#	Requerimiento	Descripci√≥n	Prioridad
RF-4.1	Reporte de Solicitudes Atendidas	Por per√≠odo, departamento, estado (filtrable)
Media
RF-4.2	Consumo por Departamento	Qu√© cantidad gast√≥ cada √°rea en productos (cost allocation)
Media
RF-4.3	Productos M√°s Solicitados	Top 10 productos por frecuencia/cantidad
Media
RF-4.4	Rotaci√≥n de Inventario	Productos de alta rotaci√≥n vs sin movimiento hace X meses
Media
RF-4.5	An√°lisis de Costos	Comparativa de gasto presupuestado vs real por mes
Media
RF-4.6	Tiempo Promedio Atenci√≥n	KPI: d√≠as promedio desde solicitud hasta entrega
Media
RF-4.7	Dashboard Ejecutivo	Gr√°ficos interactivos para gerencia: KPIs, alertas, tendencias
Baja
RF-4.8	Exportar Reportes	PDF, Excel, con opci√≥n de env√≠o por email autom√°tico
Media

M√ìDULO 5: ADMINISTRACI√ìN Y SEGURIDAD (MVP - Mes 1)
Descripci√≥n: Gesti√≥n de usuarios, permisos y auditor√≠a
Requerimientos Funcionales:
#	Requerimiento	Descripci√≥n	Prioridad
RF-5.1	Crear Cuenta de Usuario	Registro de empleado: nombre, email, departamento, rol
Alta
RF-5.2	Asignar Roles y Permisos	Roles: Admin, Jefe Log√≠stica, Personal Almac√©n, Jefe Departamento, Usuario General
Alta
RF-5.3	Login con Email/Contrase√±a	Autenticaci√≥n segura con hashing de contrase√±a
Alta
RF-5.4	Recuperar Contrase√±a	Link de reset enviado por email
Alta
RF-5.5	Cambiar Contrase√±a	Usuario puede cambiar su contrase√±a
Media
RF-5.6	Desactivar Usuario	Admin desactiva cuenta (no se borra, solo se marca como inactiva)
Alta
RF-5.7	Registro de Auditor√≠a	Log autom√°tico de: qui√©n accedi√≥, cu√°ndo, qu√© hizo (crear/modificar/eliminar)
Alta
RF-5.8	Control de Acceso por Rol	Cada rol solo ve y hace lo que le corresponde
Alta
RF-5.9	Sesi√≥n Segura	Timeout de inactividad (15 min auto-logout)
Media
RF-5.10	Encriptaci√≥n de Datos	Datos sensibles encriptados en base de datos
Alta
Requerimientos No Funcionales:
‚Ä¢	Seguridad: Cumplimiento b√°sico de OWASP Top 10
‚Ä¢	Privacidad: No se registran contrase√±as en logs
‚Ä¢	Integridad: Toda modificaci√≥n requiere autenticaci√≥n de usuario
________________________________________
M√ìDULO 6: PROVEEDORES (Opcional - Fase 2+)
Descripci√≥n: Gesti√≥n centralizada de datos de proveedores (no prioritario para MVP 30-40%)
Requerimientos B√°sicos (Futuro):
‚Ä¢	RF-6.1: Registrar proveedor con: nombre, RUC, contactos, direcci√≥n, condiciones pago
‚Ä¢	RF-6.2: Historial de compras por proveedor
‚Ä¢	RF-6.3: Calificaci√≥n de desempe√±o (calidad, tiempos, precios)
‚Ä¢	RF-6.4: Contactos y representantes
Resumen: M√≥dulos por Fase de Implementaci√≥n
Fase	M√≥dulos	Porcentaje del Sistema	Duraci√≥n	Objetivo
MVP (Fase 1)	Productos, Solicitudes, Inventario, Seguridad	30-40%	Mes 1-3	Validar concepto con Cl√≠nica SJB
Fase 2	+ Reportes, + Proveedores	60-70%	Mes 4-6	Expansi√≥n de funcionalidades
Fase 3	+ Contabilidad, + RRHH, Multi-sede	90%+	Mes 7-12	Soluci√≥n integral

REQUERIMIENTOS FUNCIONALES DETALLADOS - SISTEMA DE GESTI√ìN LOG√çSTICA
M√ìDULO 1: GESTI√ìN DE SOLICITUDES DE MATERIALES
Descripci√≥n: Solicitud y seguimiento de productos administrativos desde cualquier departamento
1. Registro de Solicitudes
ID	Requerimiento	Descripci√≥n T√©cnica
RF-SOL-01	Crear solicitud de producto	Cuando el empleado administrativo seleccione un producto, el sistema deber√° a√±adirlo autom√°ticamente a la lista de solicitud en curso, para que visualice en tiempo real los art√≠culos seleccionados y cantidad solicitada
RF-SOL-02	Eliminar producto de solicitud	Cuando el empleado elimine un producto de la lista de solicitud, el sistema deber√° actualizar autom√°ticamente el detalle y calcular el costo total estimado, para que el solicitante confirme la correcci√≥n antes de enviar
RF-SOL-03	Registrar especificaciones/personalizaciones	Cuando el empleado indique especificaciones en su solicitud (ejemplo: marca espec√≠fica, color, tama√±o, cantidad m√≠nima), el sistema deber√° registrar las notas asociadas al producto, para que log√≠stica reciba instrucciones claras y se reduzcan errores en un 80%
RF-SOL-04	Solicitud por link compartido	[NUEVA FUNCIONALIDAD] Cuando el jefe de log√≠stica comparta un link p√∫blico con un formulario pre-llenado de productos frecuentes, los empleados de departamentos podr√°n acceder sin login y realizar solicitudes r√°pidas, para simplificar el proceso en horarios de alta demanda
RF-SOL-05	Solicitud por carga de imagen/documento	[NUEVA FUNCIONALIDAD] Cuando un empleado suba una imagen de un listado f√≠sico o un documento (requisici√≥n en papel escaneada, PDF), el sistema deber√° permitir OCR (extracci√≥n de texto) para pre-llenar campos autom√°ticamente y el usuario confirme/corrija antes de enviar, para acelerar digitizaci√≥n de solicitudes manuales
RF-SOL-06	Validaci√≥n autom√°tica de cantidad	Cuando el empleado ingrese cantidad, el sistema deber√° validar cantidad m√≠nima/m√°xima seg√∫n presupuesto disponible del departamento, para prevenir solicitudes fuera de l√≠mites
RF-SOL-07	Auto-guardado de solicitud en curso	El sistema deber√° guardar autom√°ticamente la solicitud cada 30 segundos mientras se est√° editando, para prevenir p√©rdida de datos si hay cierre inesperado
RF-SOL-08	Generar n√∫mero de solicitud	Cuando se registre una solicitud, el sistema deber√° auto-generar n√∫mero √∫nico con formato: SJB-FECHA-SECUENCIAL (ej: SJB-20251029-0001), para trazabilidad
2. Visualizaci√≥n de Productos en Formulario
ID	Requerimiento	Descripci√≥n T√©cnica
RF-SOL-09	Mostrar cat√°logo de productos con im√°genes	Cuando el empleado acceda a crear solicitud, el sistema deber√° mostrar im√°genes grandes de los productos disponibles con nombre, c√≥digo y descripci√≥n claramente visibles, para que el solicitante pueda confirmar visualmente su solicitud y reducir errores en un 50%
RF-SOL-10	Vista previa ampliada de producto	Cuando se seleccione un producto, el sistema deber√° mostrar una vista previa con imagen ampliada, descripci√≥n completa, stock disponible y opciones de especificaci√≥n, para que el empleado pueda confirmar la selecci√≥n antes de a√±adirla
RF-SOL-11	Optimizar im√°genes autom√°ticamente	Cuando el sistema cargue las im√°genes de productos, deber√° optimizarlas autom√°ticamente a tama√±o y resoluci√≥n est√°ndar (m√°x 2MB, 1200x1200px), para garantizar visualizaci√≥n clara en dispositivos t√°ctiles y diferentes pantallas sin afectar rendimiento
RF-SOL-12	B√∫squeda y filtrado de productos	Cuando el empleado busque un producto, el sistema deber√° permitir b√∫squeda por: c√≥digo, nombre, categor√≠a y mostrar resultados en < 2 segundos, para acelerar selecci√≥n
RF-SOL-13	Ver stock disponible en tiempo real	Cuando se visualice un producto, el sistema deber√° mostrar stock actual, stock m√≠nimo y estado (disponible/bajo/cr√≠tico) con indicador visual de color, para que solicitante sepa si hay disponibilidad inmediata

3. Cambio de Estado y Flujo
ID	Requerimiento	Descripci√≥n T√©cnica
RF-SOL-14	Cambio de estado de solicitud	El sistema deber√° permitir transiciones de estado: Pendiente ‚Üí En Revisi√≥n ‚Üí Aprobada ‚Üí Despachada ‚Üí Entregada / Cancelada, para seguimiento del flujo
RF-SOL-15	Notificaci√≥n de cambio de estado	Cuando cambie el estado de una solicitud, el sistema deber√° enviar email/notificaci√≥n al solicitante, jefe departamento y jefe log√≠stica con el nuevo estado y fecha, para mantener informados a todos
RF-SOL-16	Aprobar/Rechazar solicitud	Cuando el jefe de log√≠stica revise una solicitud, podr√° aprobarla o rechazarla con motivo (stock insuficiente, fuera de presupuesto, producto descontinuado), para gestionar demandas
RF-SOL-17	Registrar despacho desde almac√©n	Cuando el personal de almac√©n registre el despacho de una solicitud, deber√° indicar: productos despachados, cantidades reales, fecha/hora, para actualizar inventario autom√°ticamente
RF-SOL-18	Confirmar recepci√≥n en departamento	Cuando el jefe departamento reciba los materiales, deber√° confirmar: cantidad recibida vs solicitada, estado de productos (ok/da√±ado), para cerrar solicitud y registrar recepci√≥n completa
4. Trazabilidad e Historial
ID	Requerimiento	Descripci√≥n T√©cnica
RF-SOL-19	Ver historial completo de solicitud	Cuando se abra una solicitud, el sistema deber√° mostrar trazabilidad 100%: qui√©n solicit√≥, fecha, qui√©n aprob√≥, cu√°ndo se despach√≥, qui√©n recibi√≥, con timestamps exactos, para auditor√≠a
RF-SOL-20	Listar solicitudes pendientes filtradas	El sistema deber√° mostrar vista de solicitudes activas filtrable por: estado, departamento, fecha, urgencia, usuario, para gesti√≥n eficiente de log√≠stica
RF-SOL-21	Marcar solicitud como urgente	Si una solicitud es cr√≠tica, el empleado deber√° poder marcarla como "Urgente" con justificaci√≥n (requiere aprobaci√≥n del jefe inmediato), para priorizaci√≥n
RF-SOL-22	Cancelar solicitud	Cuando solicitante marque solicitud como cancelada (si a√∫n est√° en estado "Pendiente"), el sistema deber√° registrar motivo y fecha, manteniendo el historial para auditor√≠a
RF-SOL-23	Exportar detalle de solicitud	El sistema deber√° permitir exportar solicitud a PDF/Excel con todos los detalles: productos, cantidades, especificaciones, estados, fechas, para archivo o comunicaci√≥n externa
M√ìDULO 2: GESTI√ìN DE PRODUCTOS Y CATEGOR√çAS
Descripci√≥n: Cat√°logo centralizado de productos administrativo
1. Alta, Baja y Modificaci√≥n de Productos
ID	Requerimiento	Descripci√≥n T√©cnica
RF-GP-01	Crear nuevo producto	Cuando el administrador acceda a gesti√≥n de productos, el sistema deber√° mostrar formulario para registrar: nombre, c√≥digo √∫nico, descripci√≥n, categor√≠a, unidad medida, precio unitario, stock m√≠nimo, stock m√°ximo, proveedor principal, para incorporaci√≥n al cat√°logo
RF-GP-02	Editar informaci√≥n de producto	Cuando el administrador seleccione un producto existente, podr√° editar: precio, nombre, descripci√≥n, disponibilidad (activo/inactivo), especificaciones, para mantener cat√°logo actualizado
RF-GP-03	Dar de baja producto	Cuando el administrador elimine un producto, el sistema deber√° marcarlo como "inactivo" sin borrar su historial de solicitudes asociadas, para preservar trazabilidad hist√≥rica
RF-GP-04	Validar c√≥digo √∫nico de producto	El sistema deber√° rechazar duplicaci√≥n de c√≥digos de productos, mostrando error claro al usuario, para evitar confusiones en catalogaci√≥n
RF-GP-05	Importar productos desde Excel	El sistema deber√° permitir importar m√∫ltiples productos desde archivo Excel con validaci√≥n autom√°tica de campos requeridos, para migraci√≥n de datos existentes
2. Carga y Optimizaci√≥n de Im√°genes
ID	Requerimiento	Descripci√≥n T√©cnica
RF-GP-06	Cargar imagen de producto	Cuando el administrador suba una imagen de producto, el sistema deber√° aceptarla y permitir vista previa antes de guardar, para validaci√≥n visual
RF-GP-07	Redimensionamiento autom√°tico	El sistema deber√° redimensionar autom√°ticamente im√°genes a tama√±o est√°ndar (1200x1200px) para visualizaci√≥n uniforme en interfaz de solicitud, para consistencia
RF-GP-08	Optimizar peso y formato	El sistema deber√° optimizar el peso del archivo (m√°x 2MB comprimido) sin perder calidad visual, para no afectar rendimiento en dispositivos m√≥viles o baja conectividad
RF-GP-09	Validar formato de archivo	El sistema deber√° validar tipo de archivo (JPG, PNG) y rechazar formatos no compatibles (BMP, GIF, TIFF), mostrando mensaje de error claro, para evitar problemas de visualizaci√≥n
RF-GP-10	Permitir m√∫ltiples im√°genes	El sistema deber√° permitir cargar hasta 3 im√°genes por producto (frontal, lateral, detalle), para visualizaci√≥n m√°s completa
3. Categor√≠as de Productos
ID	Requerimiento	Descripci√≥n T√©cnica
RF-GP-11	Crear categor√≠a	Cuando el administrador cree una categor√≠a, el sistema deber√° permitir asignar: nombre, descripci√≥n, color identificador, para organizaci√≥n visual clara
RF-GP-12	Editar categor√≠a	Cuando se edite informaci√≥n de categor√≠a, el sistema deber√° actualizar autom√°ticamente visualizaci√≥n en todos los productos asociados, para consistencia
RF-GP-13	Eliminar categor√≠a con validaci√≥n	Cuando el administrador elimine una categor√≠a, el sistema deber√° solicitar confirmaci√≥n y reasignar productos a categor√≠a "Sin Clasificar" autom√°ticamente, para no perder visibilidad
RF-GP-14	Jerarqu√≠a de subcategor√≠as	El sistema deber√° permitir crear subcategor√≠as dentro de categor√≠as (ej: Material Oficina ‚Üí Papel, Material Oficina ‚Üí Escritura), para mejor organizaci√≥n
RF-GP-15	Ver productos por categor√≠a	Cuando se seleccione una categor√≠a, el sistema deber√° mostrar todos los productos asociados con cantidad de items, para navegaci√≥n r√°pida
M√ìDULO 3: GESTI√ìN DE INVENTARIO
Descripci√≥n: Control en tiempo real de stock administrativo
1. Registro de Movimientos
ID	Requerimiento	Descripci√≥n T√©cnica
RF-INV-01	Registrar entrada de compra	Cuando el almac√©n reciba una compra, deber√° registrar: producto, cantidad, lote/serie, proveedor, fecha recepci√≥n, precio unitario, para actualizar stock autom√°ticamente
RF-INV-02	Registrar salida por solicitud aprobada	Cuando se apruebe despacho de solicitud, el sistema deber√° restar autom√°ticamente del inventario la cantidad despachada, actualizando stock en tiempo real
RF-INV-03	Registrar ajuste de inventario	Cuando haya discrepancia (da√±ado, vencido, p√©rdida), el almac√©n deber√° registrar ajuste con: motivo, cantidad, foto de evidencia (opcional), para auditor√≠a
RF-INV-04	Transferencia entre √°reas	El sistema deber√° permitir registrar movimiento de productos entre departamentos (cuando un √°rea tiene sobra y otra falta), generando "salida" en una y "entrada" en otra
RF-INV-05	Registro de devoluciones	Si un producto no es usado y se devuelve al almac√©n, el sistema deber√° permitir registrarlo como entrada nuevamente, para reutilizaci√≥n
2. Consulta de Stock y Alertas
ID	Requerimiento	Descripci√≥n T√©cnica
RF-INV-06	Consultar stock actual	El sistema deber√° mostrar en tiempo real para cada producto: cantidad actual, stock m√≠nimo configurado, stock m√°ximo, estado (disponible/bajo/cr√≠tico), para visibilidad
RF-INV-07	Alertas de stock m√≠nimo	Cuando stock ‚â§ m√≠nimo configurado, el sistema deber√° notificar al jefe log√≠stica (email + notificaci√≥n dentro del sistema) para preparar nueva compra
RF-INV-08	Alertas de stock cr√≠tico	Cuando stock = 0 o pr√≥ximo a cero, el sistema deber√° generar alerta urgente (rojo visual, notificaci√≥n inmediata) al jefe log√≠stica para compra emergente
RF-INV-09	Proyecci√≥n de stock	Basada en consumo hist√≥rico, el sistema deber√° calcular cu√°ntos d√≠as de inventario quedan en stock actual, para planeaci√≥n de compras
RF-INV-10	Ver movimientos por producto	Cuando se seleccione un producto, el sistema deber√° mostrar historial de movimientos (√∫ltimos 30 d√≠as): fecha, tipo (entrada/salida/ajuste), cantidad, usuario responsable, para trazabilidad
3. Ubicaci√≥n y Trazabilidad F√≠sica
ID	Requerimiento	Descripci√≥n T√©cnica
RF-INV-11	Registrar ubicaci√≥n f√≠sica en almac√©n	Para productos en almac√©n, el sistema deber√° permitir registrar ubicaci√≥n: pasillo, estante, caja, posici√≥n, para b√∫squeda r√°pida f√≠sica
RF-INV-12	Conteo f√≠sico asistido	El sistema deber√° permitir conteo f√≠sico mediante QR/app m√≥vil: escanear producto, ingresar cantidad contada, comparar con sistema, para auditoria
RF-INV-13	Reporte de discrepancias	Despu√©s de conteo f√≠sico, el sistema deber√° generar reporte: producto, cantidad esperada vs contada, diferencia, porcentaje variaci√≥n, para an√°lisis de mermas
RF-INV-14	Historial de cambios de ubicaci√≥n	El sistema deber√° registrar cada vez que se mueve un producto de ubicaci√≥n, con fecha y usuario, para trazabilidad f√≠sica completa
M√ìDULO 4: REPORTES Y AN√ÅLISIS
Descripci√≥n: Generaci√≥n autom√°tica de reportes para toma de decisiones
1. Reportes de Solicitudes
ID	Requerimiento	Descripci√≥n T√©cnica
RF-REP-01	Reporte de solicitudes por per√≠odo	Cuando el administrador seleccione rango de fechas, el sistema deber√° generar reporte con: total solicitudes, solicitudes aprobadas, rechazadas, en proceso, para evaluar gesti√≥n
RF-REP-02	Reporte de solicitudes por departamento	El sistema deber√° mostrar: qu√© departamento solicit√≥ m√°s, gasto promedio por √°rea, productos m√°s solicitados por departamento, para an√°lisis de consumo
RF-REP-03	Tiempo promedio de atenci√≥n	El sistema deber√° calcular: d√≠as promedio desde solicitud hasta entrega, variaci√≥n por tipo de producto, para optimizaci√≥n de procesos
RF-REP-04	Reporte de solicitudes incumplidas	El sistema deber√° identificar solicitudes que se despacharon despu√©s de fecha requerida, cantidad y causas (stock, aprobaci√≥n lenta, etc.), para mejora
RF-REP-05	Exportar reporte a PDF/Excel	Todo reporte deber√° permitir exportaci√≥n a PDF (para presentaciones) o Excel (para an√°lisis externo), con opci√≥n de env√≠o autom√°tico por email
2. An√°lisis de Consumo y Costos
ID	Requerimiento	Descripci√≥n T√©cnica
RF-REP-06	Productos m√°s solicitados	El sistema deber√° mostrar Top 10 productos por: frecuencia, cantidad, costo total, para identificar √≠tems cr√≠ticos
RF-REP-07	Rotaci√≥n de inventario	El sistema deber√° clasificar productos en: alta rotaci√≥n (movimiento semanal), rotaci√≥n media (mensual), baja rotaci√≥n (sin movimiento > 90 d√≠as), para gesti√≥n de stock
RF-REP-08	An√°lisis de costos por departamento	El sistema deber√° mostrar gasto total, gasto promedio por empleado, comparativa con presupuesto asignado, para control presupuestal
RF-REP-09	Comparativa de costos hist√≥ricos	El sistema deber√° comparar costos actuales vs per√≠odo anterior (mes anterior, a√±o pasado), mostrando variaci√≥n porcentual, para identificar tendencias
RF-REP-10	Productos vencidos o sin rotaci√≥n	El sistema deber√° generar reporte de productos que no se han movido en X meses, para evaluar si deben descontinuarse
3. Dashboard Ejecutivo
ID	Requerimiento	Descripci√≥n T√©cnica
RF-REP-11	Dashboard de KPIs	El sistema deber√° mostrar gr√°ficos interactivos con: solicitudes completadas, tiempo promedio atenci√≥n, precisi√≥n inventario, costo mes actual vs presupuesto, tasa error, para visi√≥n ejecutiva
RF-REP-12	Alertas visuales en dashboard	Cuando haya alertas cr√≠ticas (stock cr√≠tico, solicitud vencida, gasto fuera presupuesto), el sistema deber√° destacarlas en rojo en el dashboard, para atenci√≥n inmediata
RF-REP-13	Tendencias gr√°ficas	El sistema deber√° mostrar gr√°ficos de tendencia: consumo mensual, costos, solicitudes por semana, para identificar patrones
RF-REP-14	Reportes personalizables	El usuario deber√° poder crear reportes personalizados seleccionando: per√≠odo, m√©tricas, filtros, para an√°lisis espec√≠fico
M√ìDULO 5: ADMINISTRACI√ìN Y SEGURIDAD
Descripci√≥n: Gesti√≥n de usuarios, permisos y auditor√≠a
1. Gesti√≥n de Usuarios y Roles
ID	Requerimiento	Descripci√≥n T√©cnica
RF-AU-01	Crear cuenta de usuario	Cuando el administrador registre un nuevo empleado, el sistema deber√° permitir: nombre, email, departamento, puesto, para crear acceso
RF-AU-02	Asignar rol y permisos	El sistema deber√° ofrecer roles predefinidos: Admin Log√≠stica, Jefe Departamento, Personal Almac√©n, Empleado General, permitiendo permisos espec√≠ficos por rol
RF-AU-03	Crear roles personalizados	El administrador deber√° poder crear un rol nuevo con permisos espec√≠ficos, para adaptarse a estructura particular de cl√≠nica
RF-AU-04	Desactivar usuario	Cuando un empleado se retire, el administrador deber√° desactivar su cuenta (no eliminarlo), para preservar historial de operaciones
RF-AU-05	Recuperar contrase√±a	El sistema deber√° enviar link de reset de contrase√±a por email, con expiraci√≥n de 24 horas, para recuperaci√≥n segura de acceso
2. Control de Accesos
ID	Requerimiento	Descripci√≥n T√©cnica
RF-AU-06	Login seguro	El sistema deber√° requerir email y contrase√±a, con encriptaci√≥n de datos y sesi√≥n segura, para protecci√≥n de acceso
RF-AU-07	Validaci√≥n de permisos por rol	Cuando un usuario intente acceder a funci√≥n, el sistema deber√° verificar si su rol tiene permiso, rechazando acceso no autorizado, para seguridad
RF-AU-08	Actualizar permisos de rol	Cuando se modifiquen permisos de un rol, el sistema deber√° actualizar autom√°ticamente acceso de todos los empleados con ese rol, para consistencia
RF-AU-09	Timeout de inactividad	El sistema deber√° cerrar sesi√≥n autom√°ticamente despu√©s de 15 minutos de inactividad, para seguridad en dispositivos compartidos
RF-AU-10	Cambiar contrase√±a personal	El usuario deber√° poder cambiar su propia contrase√±a en cualquier momento, requiriendo contrase√±a antigua para validaci√≥n
3. Auditor√≠a y Registro de Actividad
ID	Requerimiento	Descripci√≥n T√©cnica
RF-AU-11	Registrar todas las operaciones	El sistema deber√° guardar autom√°ticamente cada operaci√≥n (crear/modificar/eliminar) con: usuario, fecha, hora, qu√© se hizo, para auditor√≠a completa
RF-AU-12	Ver historial de actividades	El administrador deber√° poder consultar bit√°cora filtrable por: usuario, fecha, tipo acci√≥n, para revisi√≥n de operaciones
RF-AU-13	Alertar de acciones cr√≠ticas	Cuando se detecte acci√≥n cr√≠tica (eliminar producto, ajuste manual grande de inventario, cambio de permisos), el sistema deber√° notificar al administrador inmediatamente
RF-AU-14	No permitir eliminaci√≥n de registros	El sistema no deber√° permitir eliminar datos hist√≥ricos de auditor√≠a (solo marcar como archivado), para preservar evidencia
RF-AU-15	Exportar reporte de auditor√≠a	El administrador deber√° poder exportar historial de auditor√≠a a PDF/Excel para presentaci√≥n o archivo legal
M√ìDULO 6: PROVEEDORES (Opcional - Fase 2)
Descripci√≥n: Gesti√≥n centralizada de datos de proveedores (no priorizado para MVP 30-40%)
1. Registro de Proveedores
ID	Requerimiento	Descripci√≥n T√©cnica
RF-PROV-01	Crear registro de proveedor	Cuando el administrador registre un proveedor, deber√° capturar: nombre, RUC, contactos, direcci√≥n, condiciones de pago, para gesti√≥n centralizada
RF-PROV-02	Editar informaci√≥n del proveedor	El administrador deber√° poder actualizar datos del proveedor sin perder historial de compras asociadas
RF-PROV-03	Historial de compras por proveedor	El sistema deber√° mostrar todas las compras realizadas a cada proveedor, montos, fechas, productos, para an√°lisis
RF-PROV-04	Calificaci√≥n de proveedor	El sistema deber√° permitir calificar a proveedores seg√∫n: calidad, tiempos de entrega, precios, para toma de decisiones
Resumen de Requerimientos Funcionales
M√≥dulo	Total Requerimientos	Prioridad MVP	Prioridad Fase 2
Gesti√≥n Solicitudes	23 RF	18 (Alta)	5 (Media)
Gesti√≥n Productos	15 RF	12 (Alta)	3 (Media)
Gesti√≥n Inventario	14 RF	10 (Alta)	4 (Media)
Reportes	14 RF	5 (Alta)	9 (Media)
Administraci√≥n	15 RF	12 (Alta)	3 (Media)
Proveedores	4 RF	0	4 (Media)
TOTAL	85 RF	57 RF (67%)	28 RF (33%)

DIAGRAMA DE CASOS DE USO ‚Äî VISI√ìN GENERAL
Sistema de Gesti√≥n Log√≠stica Administrativa - Cl√≠nica San Juan Bautista
ACTORES PRINCIPALES
Actor	Rol	Descripci√≥n
üë§ Jefe de Log√≠stica	Administrador Principal	Responsable de gestionar todo el √°rea log√≠stica, aprobar solicitudes, configurar sistema, generar reportes ejecutivos
üë§ Personal de Almac√©n	Operativo	Encargado de registrar entradas, salidas, controlar inventario f√≠sico, despachar solicitudes
üë§ Jefe de Departamento	Solicitante Autorizado	Crea solicitudes para su √°rea, aprueba solicitudes de su equipo, confirma recepciones
üë§ Empleado Administrativo	Usuario General	Crea solicitudes b√°sicas de materiales para su departamento
üë§ Gerente/Direcci√≥n	Supervisor Ejecutivo	Consulta reportes ejecutivos, dashboards, aprueba presupuestos y compras mayores
üåê Proveedor	Actor Externo	Recibe notificaciones de pedidos, actualiza estado de entregas (opcional - Fase 2)
üñ•Ô∏è Sistema de Contabilidad	Sistema Externo	Recibe informaci√≥n de costos y movimientos para integraci√≥n contable (opcional - Fase 2)
SUBSISTEMA COM√öN
üîê LOGIN / Autenticaci√≥n
Descripci√≥n: Caso de uso incluido por todos los actores que requieren autenticaci√≥n
Precondici√≥n: Usuario tiene cuenta creada en el sistema
Flujo:
1.	Usuario ingresa email y contrase√±a
2.	Sistema valida credenciales
3.	Sistema verifica permisos seg√∫n rol
4.	Sistema crea sesi√≥n segura (JWT)
5.	Usuario accede a funcionalidades permitidas por su rol
RF relacionados: RF-AU-06, RF-AU-07, RF-AU-09
Caso de Uso	Actor Principal	Descripci√≥n	RF Relacionados
Crear Solicitud	Empleado Administrativo, Jefe Departamento	Solicitar materiales administrativos seleccionando productos del cat√°logo
RF-SOL-01, RF-SOL-02, RF-SOL-03, RF-SOL-06, RF-SOL-08
Crear Solicitud por Link	Empleado Administrativo	Solicitar productos a trav√©s de link compartido sin login requerido
RF-SOL-04
Crear Solicitud por Imagen	Empleado Administrativo	Subir imagen/documento escaneado con OCR para digitalizacion autom√°tica	RF-SOL-05
Aprobar/Rechazar Solicitud	Jefe de Log√≠stica	Revisar solicitudes pendientes y aprobar o rechazar con justificaci√≥n
RF-SOL-16
Despachar Solicitud	Personal Almac√©n	Registrar productos despachados y actualizar inventario autom√°ticamente
RF-SOL-17, RF-INV-02
Confirmar Recepci√≥n	Jefe Departamento	Confirmar que productos fueron recibidos correctamente
RF-SOL-18
Consultar Estado Solicitud	Empleado Administrativo, Jefe Departamento	Ver estado actual y trazabilidad completa de solicitud
RF-SOL-19, RF-SOL-20
Cancelar Solicitud	Empleado Administrativo	Cancelar solicitud si est√° en estado "Pendiente"
RF-SOL-22
CASOS DE USO PRINCIPALES
M√ìDULO 1: GESTI√ìN DE SOLICITUDES
M√ìDULO 2: GESTI√ìN DE PRODUCTOS
Caso de Uso	Actor Principal	Descripci√≥n	RF Relacionados
Ver Cat√°logo de Productos	Todos los usuarios autenticados	Consultar productos disponibles con im√°genes y especificaciones
RF-SOL-09, RF-SOL-12, RF-GP-01
Registrar Producto	Jefe de Log√≠stica	Crear nuevo producto en el cat√°logo con datos completos
RF-GP-01, RF-GP-04
Modificar Producto	Jefe de Log√≠stica	Editar informaci√≥n de producto existente (precio, descripci√≥n, stock)
RF-GP-02
Deshabilitar Producto	Jefe de Log√≠stica	Marcar producto como inactivo sin eliminar historial
RF-GP-03
Cargar Imagen de Producto	Jefe de Log√≠stica	Subir y optimizar im√°genes de productos para cat√°logo visual
RF-GP-06, RF-GP-07, RF-GP-08, RF-GP-09
Gestionar Categor√≠as	Jefe de Log√≠stica	Crear, editar, eliminar categor√≠as de productos
RF-GP-11, RF-GP-12, RF-GP-13
M√ìDULO 3: GESTI√ìN DE INVENTARIO
Caso de Uso	Actor Principal	Descripci√≥n	RF Relacionados
Registrar Entrada de Compra	Personal Almac√©n	Registrar recepci√≥n de productos de proveedores
RF-INV-01
Registrar Salida Manual	Personal Almac√©n	Registrar salida no asociada a solicitud (pr√©stamo, transferencia)
RF-INV-02
Registrar Ajuste de Inventario	Personal Almac√©n, Jefe Log√≠stica	Corregir discrepancias por da√±ados, vencidos, mermas
RF-INV-03
Consultar Stock Actual	Todos los usuarios autenticados	Ver inventario en tiempo real con indicadores visuales
RF-INV-06
Recibir Alertas de Stock	Jefe de Log√≠stica	Notificaciones autom√°ticas cuando stock ‚â§ m√≠nimo
RF-INV-07, RF-INV-08
Realizar Conteo F√≠sico	Personal Almac√©n	Contar f√≠sicamente productos y comparar con sistema
RF-INV-12
Ver Movimientos de Inventario	Jefe de Log√≠stica, Personal Almac√©n	Consultar historial completo de movimientos por producto
RF-INV-10
Transferir entre √Åreas	Personal Almac√©n	Registrar movimiento de productos entre departamentos
RF-INV-04
M√ìDULO 4: REPORTES Y AN√ÅLISIS
Caso de Uso	Actor Principal	Descripci√≥n	RF Relacionados
Generar Reporte de Solicitudes	Jefe de Log√≠stica, Gerencia	Reporte por per√≠odo, departamento, estado
RF-REP-01, RF-REP-02
Analizar Consumo por Departamento	Jefe de Log√≠stica, Gerencia	Gasto por √°rea, productos m√°s solicitados
RF-REP-02, RF-REP-08
Consultar Tiempo Promedio Atenci√≥n	Jefe de Log√≠stica	KPI de d√≠as promedio desde solicitud hasta entrega
RF-REP-03
Ver Productos M√°s/Menos Solicitados	Jefe de Log√≠stica	Top 10 productos cr√≠ticos y sin rotaci√≥n
RF-REP-06, RF-REP-10
Ver Dashboard Ejecutivo	Gerencia, Jefe de Log√≠stica	Gr√°ficos interactivos con KPIs principales
RF-REP-11, RF-REP-12, RF-REP-13
Exportar Reportes	Jefe de Log√≠stica, Gerencia	Exportar a PDF/Excel para presentaciones
RF-REP-05
M√ìDULO 5: ADMINISTRACI√ìN Y SEGURIDAD
Caso de Uso	Actor Principal	Descripci√≥n	RF Relacionados
Gestionar Empleados	Jefe de Log√≠stica	Crear, editar, desactivar cuentas de usuarios
RF-AU-01, RF-AU-04
Asignar Roles y Permisos	Jefe de Log√≠stica	Configurar roles predefinidos y permisos espec√≠ficos
RF-AU-02, RF-AU-03, RF-AU-08
Ver Bit√°cora de Auditor√≠a	Jefe de Log√≠stica, Gerencia	Consultar registro de todas las operaciones del sistema
RF-AU-12
Recuperar Contrase√±a	Todos los usuarios	Solicitar reset de contrase√±a por email
RF-AU-05
Cambiar Contrase√±a Personal	Todos los usuarios	Modificar su propia contrase√±a
RF-AU-10
M√ìDULO 6: PROVEEDORES (Opcional - Fase 2)
Caso de Uso	Actor Principal	Descripci√≥n	RF Relacionados
Registrar Proveedor	Jefe de Log√≠stica	Crear ficha de proveedor con datos completos	RF-PROV-01
Calificar Proveedor	Jefe de Log√≠stica	Evaluar desempe√±o (calidad, tiempos, precios)	RF-PROV-04
Ver Historial de Compras	Jefe de Log√≠stica	Consultar compras realizadas a cada proveedor	RF-PROV-03
RELACIONES IMPORTANTES ENTRE CASOS DE USO
Relaciones <<include>> (Inclusi√≥n - Siempre Ocurre)
Caso de Uso Base	Incluye	Raz√≥n
Todos los casos de uso	LOGIN / Autenticaci√≥n	Todos los actores deben autenticarse antes de operar
Crear Solicitud	Ver Cat√°logo de Productos	Para solicitar, el usuario debe ver productos disponibles
Crear Solicitud	Consultar Stock Actual	Para validar disponibilidad antes de solicitar
Despachar Solicitud	Registrar Salida de Inventario	Despacho autom√°ticamente actualiza inventario
Registrar Entrada de Compra	Actualizar Stock	Entrada autom√°ticamente suma al inventario
Generar Reporte	Consultar Movimientos de Inventario	Reportes deben reflejar datos actualizados de inventario
Aprobar Solicitud	Validar Presupuesto Disponible	Verificar que departamento tiene presupuesto antes de aprobar
Relaciones <<extend>> (Extensi√≥n - Puede Ocurrir)
Caso de Uso Base	Extensi√≥n	Condici√≥n
Registrar Producto	Cargar Imagen de Producto	Solo si admin decide subir imagen (opcional)
Crear Solicitud	Marcar como Urgente	Solo si es solicitud cr√≠tica con justificaci√≥n
Consultar Stock Actual	Notificar Proveedor	Solo si stock ‚â§ m√≠nimo y se requiere compra urgente
Despachar Solicitud	Registrar Producto Da√±ado	Solo si durante despacho se detecta producto en mal estado
Generar Reporte	Enviar por Email Autom√°tico	Solo si usuario configura env√≠o programado
Aprobar Solicitud	Solicitar Autorizaci√≥n Gerencia	Solo si monto supera l√≠mite de autorizaci√≥n del jefe log√≠stica
________________________________________
Relaciones de Generalizaci√≥n (Herencia)
Caso de Uso General	Casos de Uso Especializados
Crear Solicitud	- Crear Solicitud Est√°ndar
- Crear Solicitud por Link
- Crear Solicitud por Imagen (OCR)
Registrar Movimiento Inventario	- Registrar Entrada
- Registrar Salida
- Registrar Ajuste
- Registrar Transferencia
Generar Reporte	- Reporte de Solicitudes
- Reporte de Consumo
- Reporte de Costos
- Reporte de Inventario
DIAGRAMA DE FLUJO DE SOLICITUD (Caso de Uso Central)
Flujo Principal: "Crear y Completar Solicitud"
[Empleado Administrativo] 
    ‚Üí LOGIN (include)
    ‚Üí Ver Cat√°logo de Productos (include)
    ‚Üí Crear Solicitud
        ‚Ü≥ Consultar Stock (include)
        ‚Ü≥ Marcar como Urgente (extend - condicional)
    ‚Üí Enviar Solicitud

[Jefe de Log√≠stica]
    ‚Üí LOGIN (include)
    ‚Üí Aprobar/Rechazar Solicitud
        ‚Ü≥ Validar Presupuesto (include)
        ‚Ü≥ Solicitar Autorizaci√≥n Gerencia (extend - si monto alto)


[Personal Almac√©n]
    ‚Üí LOGIN (include)
    ‚Üí Despachar Solicitud
        ‚Ü≥ Registrar Salida Inventario (include)
        ‚Ü≥ Registrar Producto Da√±ado (extend - condicional)

[Jefe Departamento]
    ‚Üí LOGIN (include)
    ‚Üí Confirmar Recepci√≥n
    ‚Üí Solicitud COMPLETADA
RESUMEN DE CASOS DE USO POR ACTOR
Actor	Casos de Uso Principales	Total
Jefe de Log√≠stica	Gesti√≥n completa: productos, solicitudes, inventario, reportes, usuarios	25
Personal Almac√©n	Inventario, despachos, entradas, conteos	8
Jefe Departamento	Solicitudes, aprobaciones, consultas	6
Empleado Administrativo	Solicitudes b√°sicas, consultas	4
Gerencia	Reportes ejecutivos, dashboards	5
Esta estructura de casos de uso est√° completamente alineada con:
‚Ä¢	Requerimientos funcionales definidos previamente
‚Ä¢	Arquitectura MVC con separaci√≥n de responsabilidades
‚Ä¢	Principios SOLID aplicados en dise√±o de clases
‚Ä¢	TDD para testing de cada caso de uso por separado

ESPECIFICACI√ìN DETALLADA DE CASOS DE USO
Sistema de Gesti√≥n Log√≠stica Administrativa - Cl√≠nica San Juan Bautista

CU-01: Crear Solicitud de Materiales
ID: CU-SOL-01
Actor principal: Empleado Administrativo, Jefe de Departamento
Actores secundarios: Sistema de Inventario (verifica stock disponible)
Objetivo: Registrar una solicitud de productos administrativos de forma r√°pida, visual y sin errores, con validaci√≥n autom√°tica de disponibilidad.
Precondici√≥n:
‚Ä¢	Usuario autenticado con rol permitido (LOGIN realizado - RF-AU-06)
‚Ä¢	Cat√°logo de productos cargado y actualizado (RF-GP-01)
‚Ä¢	Stock disponible consultable en tiempo real (RF-INV-06)
‚Ä¢	Departamento del usuario configurado en el sistema
Postcondici√≥n:
‚Ä¢	Solicitud registrada en sistema con n√∫mero √∫nico (SJB-FECHA-SEC) - RF-SOL-08
‚Ä¢	Estado inicial: "Pendiente"
‚Ä¢	Notificaci√≥n enviada al Jefe de Log√≠stica (RF-SOL-15)
‚Ä¢	Productos incluidos visibles con especificaciones
‚Ä¢	Costo estimado calculado (si aplica)
Flujo Principal (√âxito):
1.	Usuario accede a m√≥dulo "Nueva Solicitud" ‚Üí sistema muestra cat√°logo de productos con im√°genes (RF-SOL-09)
2.	Usuario selecciona categor√≠a ‚Üí sistema muestra productos de esa categor√≠a con im√°genes grandes, nombre, c√≥digo, stock disponible con indicador visual de color (RF-SOL-10, RF-SOL-13)
3.	Usuario selecciona producto (un clic en imagen) ‚Üí sistema a√±ade a lista de solicitud en curso (RF-SOL-01)
4.	Usuario ingresa cantidad requerida ‚Üí sistema valida contra stock disponible y l√≠mites presupuestales del departamento (RF-SOL-06)
5.	Usuario a√±ade especificaciones/notas (marca espec√≠fica, color, tama√±o) ‚Üí sistema asocia notas al producto (RF-SOL-03)
6.	Sistema recalcula costo estimado total en < 2 segundos (RNF-01.1)
7.	Usuario confirma solicitud ‚Üí sistema genera n√∫mero √∫nico y guarda como "Pendiente" (RF-SOL-08)
8.	Sistema env√≠a notificaci√≥n al Jefe de Log√≠stica (RF-SOL-15)
9.	Sistema muestra resumen con n√∫mero de solicitud y estado
Flujos Alternativos / Excepciones:
A1: Producto sin stock disponible (RF-INV-06)
‚Ä¢	Sistema muestra alerta visual: "Stock actual: 0. No disponible para solicitud inmediata"
‚Ä¢	Permite agregar a solicitud pero marca como "Pendiente de Reabastecimiento"
‚Ä¢	Sugiere productos alternativos de misma categor√≠a con stock disponible
A2: Cantidad solicitada excede presupuesto departamento (RF-SOL-06)
‚Ä¢	Sistema muestra mensaje: "Cantidad solicitada supera l√≠mite presupuestal asignado (S/. X disponibles)"
‚Ä¢	Permite reducir cantidad o marcar como "Requiere autorizaci√≥n especial"
‚Ä¢	Si marca como especial, se notifica autom√°ticamente al Gerente para aprobaci√≥n
A3: Imagen de producto no cargada/optimizada
‚Ä¢	Sistema muestra placeholder gen√©rico seg√∫n categor√≠a
‚Ä¢	Permite selecci√≥n por c√≥digo o nombre de producto
‚Ä¢	Registra incidencia para que admin cargue imagen posteriormente
A4: Conexi√≥n interrumpida durante creaci√≥n (RNF-02.3)
‚Ä¢	Sistema guarda solicitud en borrador local cada 30 segundos (RF-SOL-07)
‚Ä¢	Al recuperar conexi√≥n, notifica al usuario: "Solicitud guardada autom√°ticamente. ¬øDesea continuar?"
‚Ä¢	Usuario puede retomar edici√≥n sin p√©rdida de datos
A5: Solicitud por link compartido (RF-SOL-04)
‚Ä¢	Jefe de Log√≠stica genera link p√∫blico con formulario pre-llenado
‚Ä¢	Usuario accede sin login, selecciona productos y env√≠a
‚Ä¢	Sistema registra IP, fecha/hora y solicita validaci√≥n posterior del jefe departamento
A6: Solicitud por carga de imagen/documento (RF-SOL-05)
‚Ä¢	Usuario sube imagen escaneada de requisici√≥n en papel
‚Ä¢	Sistema usa OCR para extraer: productos, cantidades, especificaciones
‚Ä¢	Muestra pre-llenado para que usuario confirme/corrija antes de enviar
‚Ä¢	Si OCR falla, permite digitaci√≥n manual
Reglas de Negocio:
RB1: No se puede confirmar solicitud si no tiene al menos 1 producto
RB2: Cantidad m√≠nima por producto: 1 unidad
RB3: Departamentos con presupuesto limitado no pueden solicitar > l√≠mite asignado sin aprobaci√≥n gerencial
RB4: Solicitudes marcadas como "Urgente" requieren justificaci√≥n obligatoria (RF-SOL-21)
RB5: Sistema valida que usuario pertenezca al departamento que solicita (no puede solicitar para otro departamento sin permiso especial)
Frecuencia esperada: Alta ‚Äî 20-50 solicitudes diarias en cl√≠nica mediana
RF relacionados: RF-SOL-01, RF-SOL-02, RF-SOL-03, RF-SOL-04, RF-SOL-05, RF-SOL-06, RF-SOL-07, RF-SOL-08, RF-SOL-09, RF-SOL-10, RF-SOL-13, RF-SOL-15, RF-INV-06
Notas UI / Rendimiento:
‚Ä¢	Interfaz responsive (funciona en PC, tablet, smartphone)
‚Ä¢	Botones t√°ctiles de m√≠nimo 44x44 px para facilidad de uso
‚Ä¢	Tiempo de carga de cat√°logo: < 3 segundos (RNF-01.1)
‚Ä¢	Auto-guardado cada 30 segundos para prevenir p√©rdida de datos (RF-SOL-07)
‚Ä¢	B√∫squeda de productos: resultados en < 2 segundos (RF-SOL-12)
CU-02: Aprobar o Rechazar Solicitud
ID: CU-SOL-02
Actor principal: Jefe de Log√≠stica
Actores secundarios: Sistema de Inventario, Sistema de Notificaciones
Objetivo: Revisar solicitudes pendientes y aprobarlas o rechazarlas con justificaci√≥n, actualizando autom√°ticamente el flujo.
Precondici√≥n:
‚Ä¢	Usuario autenticado con rol "Jefe de Log√≠stica" (RF-AU-02)
‚Ä¢	Solicitud en estado "Pendiente" o "En Revisi√≥n"
‚Ä¢	Stock e informaci√≥n presupuestal disponibles para consulta
Postcondici√≥n:
‚Ä¢	Solicitud cambia a estado "Aprobada" o "Rechazada" (RF-SOL-14)
‚Ä¢	Notificaci√≥n enviada al solicitante y jefe departamento (RF-SOL-15)
‚Ä¢	Si rechazada, motivo registrado en historial (RF-SOL-19)
‚Ä¢	Si aprobada, solicitud pasa a cola de despacho del almac√©n
Flujo Principal (Aprobaci√≥n):
1.	Jefe de Log√≠stica accede a m√≥dulo "Solicitudes Pendientes" ‚Üí sistema muestra lista filtrable (RF-SOL-20)
2.	Jefe selecciona solicitud ‚Üí sistema muestra detalle completo: productos, cantidades, especificaciones, departamento, fecha requerida, justificaci√≥n (RF-SOL-19)
3.	Sistema muestra stock actual de cada producto solicitado (RF-INV-06)
4.	Jefe revisa y valida disponibilidad
5.	Jefe hace clic en "Aprobar" ‚Üí sistema solicita confirmaci√≥n
6.	Sistema cambia estado a "Aprobada" (RF-SOL-14)
7.	Sistema env√≠a notificaci√≥n al solicitante y al almac√©n (RF-SOL-15)
8.	Sistema registra: qui√©n aprob√≥, fecha/hora en historial de auditor√≠a (RF-SOL-19)
Flujo Alternativo (Rechazo):
A1: Jefe rechaza solicitud (RF-SOL-16)
1.	Jefe hace clic en "Rechazar"
2.	Sistema solicita motivo obligatorio (opciones: Stock insuficiente, Fuera de presupuesto, Producto descontinuado, Duplicado, Otro)
3.	Si selecciona "Otro", campo de texto libre para justificaci√≥n detallada
4.	Jefe confirma rechazo
5.	Sistema cambia estado a "Rechazada" (RF-SOL-14)
6.	Sistema env√≠a notificaci√≥n al solicitante con motivo (RF-SOL-15)
7.	Sistema registra en auditor√≠a: qui√©n rechaz√≥, cu√°ndo, motivo (RF-SOL-19)
Flujos Alternativos / Excepciones:
A2: Solicitud requiere autorizaci√≥n gerencial por monto alto
‚Ä¢	Si costo estimado > l√≠mite de autorizaci√≥n del jefe log√≠stica (ej. > S/. 5,000)
‚Ä¢	Sistema muestra alerta: "Monto supera su l√≠mite de autorizaci√≥n. Requiere aprobaci√≥n de Gerencia"
‚Ä¢	Jefe puede "Solicitar Autorizaci√≥n Gerencial" ‚Üí sistema notifica a Gerente
‚Ä¢	Gerente aprueba o rechaza ‚Üí luego jefe log√≠stica puede proceder
A3: Stock insuficiente para cumplir solicitud completa
‚Ä¢	Sistema muestra alerta: "Stock actual insuficiente para cantidad solicitada"
‚Ä¢	Jefe tiene opciones:
o	Aprobar parcialmente (cantidad disponible)
o	Rechazar y solicitar nueva cotizaci√≥n a proveedor
o	Aprobar condicionalmente "Pendiente de reabastecimiento"
A4: Solicitud duplicada detectada por sistema
‚Ä¢	Sistema identifica solicitud similar (mismo departamento, mismos productos, √∫ltima semana)
‚Ä¢	Muestra alerta: "Posible duplicado detectado: [Solicitud SJB-XXX]"
‚Ä¢	Jefe puede:
o	Confirmar que es solicitud leg√≠tima (no duplicada)
o	Rechazar por duplicidad
Reglas de Negocio:
RB1: Solo Jefe de Log√≠stica puede aprobar/rechazar solicitudes (RF-AU-04)
RB2: Rechazo requiere motivo obligatorio para trazabilidad
RB3: Solicitudes aprobadas pasan autom√°ticamente a cola de despacho del almac√©n
RB4: Solicitudes urgentes deben revisarse en < 4 horas (indicador KPI)
RB5: Una vez aprobada, solicitud no puede ser rechazada (solo cancelada con justificaci√≥n especial)
Frecuencia esperada: Alta ‚Äî 15-40 aprobaciones diarias
RF relacionados: RF-SOL-14, RF-SOL-15, RF-SOL-16, RF-SOL-19, RF-SOL-20, RF-INV-06, RF-AU-04
Notas UI / Rendimiento:
‚Ä¢	Vista en lista con filtros r√°pidos: Por estado, Por departamento, Por urgencia, Por fecha
‚Ä¢	Indicadores visuales: Urgente (rojo), Normal (azul), Vencida (naranja)
‚Ä¢	Carga de lista de solicitudes: < 3 segundos (RNF-01.1)
‚Ä¢	Botones de acci√≥n r√°pida: Aprobar (verde), Rechazar (rojo)
________________________________________
CU-03: Despachar Solicitud desde Almac√©n
ID: CU-SOL-03
Actor principal: Personal de Almac√©n
Actores secundarios: Sistema de Inventario (actualiza stock autom√°ticamente)
Objetivo: Registrar despacho f√≠sico de productos aprobados, actualizar inventario en tiempo real y notificar al departamento receptor.
Precondici√≥n:
‚Ä¢	Usuario autenticado con rol "Personal Almac√©n" (RF-AU-02)
‚Ä¢	Solicitud en estado "Aprobada"
‚Ä¢	Productos f√≠sicamente disponibles en almac√©n
‚Ä¢	Stock en sistema actualizado
Postcondici√≥n:
‚Ä¢	Solicitud cambia a estado "Despachada" (RF-SOL-14)
‚Ä¢	Inventario actualizado autom√°ticamente: stock reducido por cantidad despachada (RF-INV-02)
‚Ä¢	Notificaci√≥n enviada al jefe departamento solicitante (RF-SOL-15)
‚Ä¢	Fecha/hora de despacho registrada en historial (RF-SOL-19)
‚Ä¢	Productos listos para entrega f√≠sica
Flujo Principal (√âxito):
1.	Personal de Almac√©n accede a m√≥dulo "Solicitudes Aprobadas Pendientes de Despacho"
2.	Sistema muestra lista de solicitudes aprobadas ordenadas por: Urgente primero, luego por fecha requerida (RF-SOL-20)
3.	Personal selecciona solicitud ‚Üí sistema muestra detalle completo: productos, cantidades, especificaciones, ubicaci√≥n f√≠sica en almac√©n (RF-INV-11)
4.	Personal localiza f√≠sicamente cada producto en almac√©n usando ubicaciones mostradas
5.	Personal verifica f√≠sicamente cantidad y estado de productos
6.	Personal registra despacho en sistema:
o	Confirma cada producto despachado (check individual)
o	Indica cantidad real despachada (puede ser menor si hay da√±ados)
o	Si hay productos da√±ados, registra motivo y cantidad afectada (RF-INV-03)
7.	Sistema valida que al menos 1 producto fue despachado
8.	Personal confirma despacho ‚Üí sistema solicita confirmaci√≥n final
9.	Sistema:
o	Actualiza stock autom√°ticamente (resta cantidad despachada) - RF-INV-02
o	Cambia estado a "Despachada" (RF-SOL-14)
o	Registra fecha/hora y usuario responsable (RF-SOL-17, RF-SOL-19)
o	Env√≠a notificaci√≥n al jefe departamento: "Su solicitud [SJB-XXX] ha sido despachada" (RF-SOL-15)
10.	Sistema genera comprobante de despacho (PDF) imprimible con: productos, cantidades, fecha, responsable
Flujos Alternativos / Excepciones:
A1: Cantidad f√≠sica menor que aprobada (producto da√±ado/vencido)
‚Ä¢	Personal indica cantidad real despachada < cantidad aprobada
‚Ä¢	Sistema solicita motivo: Producto da√±ado, Vencido, Stock incorrecto, Otro
‚Ä¢	Personal registra evidencia (foto opcional)
‚Ä¢	Sistema:
o	Registra ajuste de inventario con motivo (RF-INV-03)
o	Alerta al jefe log√≠stica sobre discrepancia
o	Marca solicitud como "Despachada Parcialmente"
o	Crea nueva tarea: "Completar despacho pendiente"
A2: Producto no encontrado f√≠sicamente en ubicaci√≥n registrada
‚Ä¢	Personal marca producto como "No encontrado"
‚Ä¢	Sistema:
o	Alerta al jefe log√≠stica: "Discrepancia de ubicaci√≥n detectada"
o	Crea tarea de "Conteo f√≠sico urgente" para ese producto
o	Permite despachar productos restantes
o	Solicitud marcada como "Despachada Parcialmente"
A3: Solicitud cancelada antes de despacho
‚Ä¢	Si jefe departamento cancela solicitud mientras est√° en cola de despacho
‚Ä¢	Sistema muestra alerta: "Solicitud cancelada. No proceder con despacho"
‚Ä¢	Personal confirma y cierra sin despachar
‚Ä¢	Estado cambia a "Cancelada" (RF-SOL-22)
A4: Despacho de solicitud urgente
‚Ä¢	Si solicitud est√° marcada como "Urgente"
‚Ä¢	Sistema muestra indicador visual prioritario (rojo)
‚Ä¢	Genera alerta sonora/visual para personal de almac√©n
‚Ä¢	Registra tiempo transcurrido desde aprobaci√≥n hasta despacho (KPI)
Reglas de Negocio:
RB1: Solo Personal de Almac√©n puede registrar despachos (RF-AU-04)
RB2: Despacho parcial debe justificarse obligatoriamente
RB3: Stock se actualiza autom√°ticamente al confirmar despacho (no requiere proceso manual adicional)
RB4: Solicitudes urgentes deben despacharse en < 2 horas desde aprobaci√≥n
RB5: Cada despacho genera registro auditable con timestamp y usuario (RF-AU-11)
Frecuencia esperada: Alta ‚Äî 15-40 despachos diarios
RF relacionados: RF-SOL-14, RF-SOL-15, RF-SOL-17, RF-SOL-19, RF-SOL-20, RF-INV-02, RF-INV-03, RF-INV-11, RF-AU-04, RF-AU-11
Notas UI / Rendimiento:
‚Ä¢	Interfaz optimizada para uso en tablet en almac√©n
‚Ä¢	Botones grandes t√°ctiles (min 44x44px)
‚Ä¢	Posibilidad de escanear c√≥digo QR/barcode de productos (opcional - Fase 2)
‚Ä¢	Actualizaci√≥n de inventario: < 1 segundo despu√©s de confirmar despacho (RNF-01.1)
‚Ä¢	Vista de ubicaci√≥n f√≠sica clara con mapa visual del almac√©n
________________________________________
CU-04: Confirmar Recepci√≥n en Departamento
ID: CU-SOL-04
Actor principal: Jefe de Departamento
Actores secundarios: Ninguno
Objetivo: Confirmar que los productos despachados fueron recibidos correctamente en cantidad y estado, cerrando el ciclo de la solicitud.
Precondici√≥n:
‚Ä¢	Usuario autenticado con rol "Jefe de Departamento" (RF-AU-02)
‚Ä¢	Solicitud en estado "Despachada"
‚Ä¢	Productos entregados f√≠sicamente al departamento
Postcondici√≥n:
‚Ä¢	Solicitud cambia a estado "Entregada" (cerrada) - RF-SOL-14
‚Ä¢	Fecha/hora de recepci√≥n registrada (RF-SOL-18)
‚Ä¢	Ciclo completo de solicitud cerrado
‚Ä¢	Si hay discrepancias, registradas para auditor√≠a (RF-SOL-19)
Flujo Principal (Recepci√≥n Correcta):
1.	Jefe de Departamento recibe notificaci√≥n: "Su solicitud [SJB-XXX] ha sido despachada"
2.	Jefe accede a m√≥dulo "Mis Solicitudes Despachadas"
3.	Sistema muestra lista de solicitudes pendientes de confirmar recepci√≥n
4.	Jefe selecciona solicitud ‚Üí sistema muestra detalle: productos despachados, cantidades, especificaciones
5.	Jefe verifica f√≠sicamente productos recibidos
6.	Jefe confirma cada producto:
o	Cantidad recibida = cantidad despachada: ‚úÖ OK
o	Estado de productos: ‚úÖ Buen estado
7.	Jefe hace clic en "Confirmar Recepci√≥n Completa"
8.	Sistema solicita confirmaci√≥n final
9.	Sistema:
o	Cambia estado a "Entregada" (RF-SOL-14)
o	Registra fecha/hora de recepci√≥n y usuario (RF-SOL-18, RF-SOL-19)
o	Cierra solicitud
o	Genera comprobante de recepci√≥n (PDF) con firma digital del jefe
10.	Sistema muestra mensaje: "Solicitud completada exitosamente"
Flujos Alternativos / Excepciones:
A1: Cantidad recibida menor que despachada
‚Ä¢	Jefe indica cantidad real recibida < cantidad despachada
‚Ä¢	Sistema solicita motivo: Producto perdido en tr√°nsito, Producto da√±ado en entrega, Cantidad incorrecta, Otro
‚Ä¢	Jefe a√±ade nota explicativa
‚Ä¢	Sistema:
o	Registra discrepancia en auditor√≠a (RF-SOL-19)
o	Alerta al jefe log√≠stica sobre incidencia
o	Marca solicitud como "Entregada con Observaciones"
o	Genera incidente para investigaci√≥n
A2: Productos recibidos en mal estado
‚Ä¢	Jefe marca productos como "Da√±ados" o "Defectuosos"
‚Ä¢	Sistema solicita: Foto de evidencia (opcional), Descripci√≥n del da√±o
‚Ä¢	Jefe a√±ade detalles
‚Ä¢	Sistema:
o	Registra incidencia (RF-SOL-19)
o	Alerta a log√≠stica para devoluci√≥n/reemplazo
o	Crea nueva solicitud autom√°tica para reposici√≥n (si jefe acepta)
o	Marca solicitud original como "Entregada con Observaciones"
A3: Productos no recibidos f√≠sicamente (solicitud despachada pero no entregada)
‚Ä¢	Jefe marca: "No he recibido esta solicitud"
‚Ä¢	Sistema alerta inmediatamente al personal de almac√©n y jefe log√≠stica
‚Ä¢	Crea incidente de seguimiento urgente
‚Ä¢	Solicitud queda en estado "Despachada - Pendiente Localizaci√≥n"
A4: Recepci√≥n parcial (algunos productos s√≠, otros no)
‚Ä¢	Jefe confirma productos recibidos individualmente
‚Ä¢	Productos confirmados cierran
‚Ä¢	Productos no recibidos generan seguimiento autom√°tico
‚Ä¢	Solicitud marcada como "Entregada Parcialmente"
Reglas de Negocio:
RB1: Solo Jefe de Departamento solicitante puede confirmar recepci√≥n (RF-AU-04)
RB2: Confirmaci√≥n debe realizarse dentro de 7 d√≠as calendario desde despacho (sino alerta autom√°tica)
RB3: Discrepancias en cantidad/estado requieren registro obligatorio de motivo
RB4: Solicitudes no confirmadas despu√©s de 14 d√≠as se cierran autom√°ticamente con alerta a gerencia
RB5: Cada confirmaci√≥n genera comprobante PDF descargable para archivo departamental
Frecuencia esperada: Alta ‚Äî 15-40 confirmaciones diarias
RF relacionados: RF-SOL-14, RF-SOL-18, RF-SOL-19, RF-AU-04
Notas UI / Rendimiento:
‚Ä¢	Interfaz simple con checkboxes para confirmar productos individualmente
‚Ä¢	Opci√≥n de "Confirmar Todo" para agilizar si recepci√≥n es correcta
‚Ä¢	Posibilidad de subir fotos desde dispositivo m√≥vil (para evidencia de da√±os)
‚Ä¢	Notificaciones push/email recordando confirmaci√≥n pendiente despu√©s de 3 d√≠as
CU-05: Consultar Estado de Solicitud
ID: CU-SOL-05
Actor principal: Empleado Administrativo, Jefe de Departamento
Actores secundarios: Ninguno
Objetivo: Verificar en tiempo real el estado actual de una solicitud y su trazabilidad completa.
Precondici√≥n:
‚Ä¢	Usuario autenticado
‚Ä¢	Solicitud registrada en sistema
Postcondici√≥n:
‚Ä¢	Usuario visualiza estado actualizado de solicitud
‚Ä¢	Informaci√≥n de trazabilidad disponible
Flujo Principal:
1.	Usuario accede a m√≥dulo "Mis Solicitudes"
2.	Sistema muestra lista de solicitudes del departamento (filtrable por: Todas, Pendientes, Aprobadas, Despachadas, Entregadas, Rechazadas) - RF-SOL-20
3.	Usuario selecciona solicitud espec√≠fica
4.	Sistema muestra detalle completo (RF-SOL-19):
o	N√∫mero de solicitud y fecha creaci√≥n
o	Estado actual con indicador visual (color)
o	Productos solicitados con cantidades y especificaciones
o	Historial completo del flujo:
ÔÇß	‚úÖ Creada por [Usuario] el [Fecha/Hora]
ÔÇß	‚úÖ Aprobada por [Jefe Log√≠stica] el [Fecha/Hora]
ÔÇß	‚úÖ Despachada por [Personal Almac√©n] el [Fecha/Hora]
ÔÇß	‚è≥ Pendiente de confirmaci√≥n de recepci√≥n
o	Tiempo transcurrido desde creaci√≥n
o	Fecha estimada de entrega (si aplica)
5.	Si estado es "Rechazada", sistema muestra motivo del rechazo
Flujos Alternativos:
A1: Usuario consulta m√∫ltiples solicitudes
‚Ä¢	Vista en lista con resumen: N√∫mero, Fecha, Estado, Productos principales
‚Ä¢	Filtros r√°pidos aplicables
A2: Usuario exporta historial
‚Ä¢	Opci√≥n de descargar detalle de solicitud en PDF (RF-SOL-23)
Reglas de Negocio:
RB1: Usuario solo puede ver solicitudes de su departamento (salvo jefe log√≠stica y gerencia que ven todas)
RB2: Historial completo siempre visible para auditor√≠a
Frecuencia esperada: Media ‚Äî 30-60 consultas diarias
RF relacionados: RF-SOL-19, RF-SOL-20, RF-SOL-23
________________________________________
CU-06: Registrar Producto en Cat√°logo
ID: CU-GP-01
Actor principal: Jefe de Log√≠stica
Actores secundarios: Ninguno
Objetivo: A√±adir nuevo producto al cat√°logo administrativo con toda su informaci√≥n y opcionalmente imagen.
Precondici√≥n:
‚Ä¢	Usuario autenticado con rol "Jefe de Log√≠stica" (RF-AU-02)
‚Ä¢	Categor√≠as de productos ya creadas
Postcondici√≥n:
‚Ä¢	Producto registrado en cat√°logo y disponible para solicitudes
‚Ä¢	C√≥digo √∫nico asignado
‚Ä¢	Imagen cargada y optimizada (si se subi√≥)
‚Ä¢	Producto visible en m√≥dulo de solicitudes
Flujo Principal:
1.	Jefe de Log√≠stica accede a m√≥dulo "Gesti√≥n de Productos"
2.	Jefe hace clic en "Nuevo Producto"
3.	Sistema muestra formulario con campos obligatorios:
o	C√≥digo de producto (auto-generado o manual)
o	Nombre del producto
o	Descripci√≥n
o	Categor√≠a (desplegable)
o	Unidad de medida (Unidad, Caja, Paquete, etc.)
o	Precio unitario estimado
o	Stock m√≠nimo
o	Stock m√°ximo
o	Proveedor principal (opcional)
4.	Jefe llena campos obligatorios
5.	Sistema valida que c√≥digo no est√© duplicado (RF-GP-04)
6.	Jefe opcionalmente carga imagen del producto (RF-GP-06)
7.	Si carga imagen:
o	Sistema valida formato (JPG, PNG) - RF-GP-09
o	Sistema redimensiona autom√°ticamente a 1200x1200px (RF-GP-07)
o	Sistema optimiza peso a < 2MB (RF-GP-08)
o	Muestra preview antes de guardar
8.	Jefe confirma "Guardar Producto"
9.	Sistema:
o	Valida todos los campos obligatorios completos
o	Guarda producto en base de datos (RF-GP-01)
o	Genera registro de auditor√≠a: qui√©n cre√≥, cu√°ndo (RF-AU-11)
o	Muestra mensaje: "Producto [Nombre] registrado exitosamente con c√≥digo [XXX]"
10.	Producto queda disponible inmediatamente en cat√°logo para solicitudes
Flujos Alternativos:
A1: C√≥digo duplicado detectado (RF-GP-04)
‚Ä¢	Sistema muestra error: "C√≥digo ya existe. Por favor use uno diferente"
‚Ä¢	No permite guardar hasta corregir
A2: Imagen en formato no soportado (RF-GP-09)
‚Ä¢	Sistema rechaza archivo: "Formato no v√°lido. Solo JPG o PNG permitidos"
‚Ä¢	Permite cargar archivo correcto
A3: Imagen muy pesada (> 5MB)
‚Ä¢	Sistema comprime autom√°ticamente sin perder calidad visual
‚Ä¢	Si no puede comprimir suficiente, alerta: "Imagen muy pesada, elija una m√°s liviana"
A4: Importaci√≥n masiva desde Excel (RF-GP-05)
‚Ä¢	Jefe selecciona "Importar Productos"
‚Ä¢	Carga archivo Excel con plantilla predefinida
‚Ä¢	Sistema valida cada fila y muestra errores si hay
‚Ä¢	Importa productos v√°lidos en lote
Reglas de Negocio:
RB1: Solo Jefe de Log√≠stica puede crear productos (RF-AU-04)
RB2: C√≥digo de producto debe ser √∫nico (no duplicados) - RF-GP-04
RB3: Nombre y categor√≠a son obligatorios
RB4: Si no se carga imagen, sistema usa placeholder seg√∫n categor√≠a
RB5: Nuevos productos inician con stock = 0 hasta primera entrada
Frecuencia esperada: Baja ‚Äî 2-5 productos nuevos por mes
RF relacionados: RF-GP-01, RF-GP-04, RF-GP-05, RF-GP-06, RF-GP-07, RF-GP-08, RF-GP-09, RF-AU-04, RF-AU-11
Notas UI / Rendimiento:
‚Ä¢	Formulario simple con validaci√≥n en tiempo real
‚Ä¢	Preview de imagen antes de guardar
‚Ä¢	Carga de imagen: < 5 segundos incluyendo optimizaci√≥n
CU-07: Registrar Entrada de Compra al Almac√©n
ID: CU-INV-01
Actor principal: Personal de Almac√©n
Actores secundarios: Sistema de Inventario (actualiza stock autom√°ticamente)
Objetivo: Registrar recepci√≥n de productos comprados a proveedores, actualizando inventario en tiempo real.
Precondici√≥n:
‚Ä¢	Usuario autenticado con rol "Personal Almac√©n" o "Jefe Log√≠stica" (RF-AU-02)
‚Ä¢	Orden de compra emitida (opcional - Fase 2)
‚Ä¢	Productos f√≠sicamente recibidos en almac√©n
‚Ä¢	Productos ya registrados en cat√°logo
Postcondici√≥n:
‚Ä¢	Stock actualizado: cantidad recibida sumada al inventario (RF-INV-01)
‚Ä¢	Movimiento de entrada registrado con trazabilidad completa (RF-INV-10)
‚Ä¢	Ubicaci√≥n f√≠sica asignada (RF-INV-11)
‚Ä¢	Fecha/hora y usuario responsable registrados (RF-AU-11)
Flujo Principal:
1.	Personal de Almac√©n accede a m√≥dulo "Registrar Entrada de Compra"
2.	Sistema muestra formulario de entrada:
o	Proveedor (opcional - Fase 2)
o	Fecha de recepci√≥n (auto: hoy)
o	N√∫mero de factura/gu√≠a (opcional)
3.	Personal busca y selecciona productos recibidos del cat√°logo (RF-SOL-12)
4.	Para cada producto:
o	Indica cantidad recibida
o	Precio unitario de compra (opcional)
o	Lote/Serie (opcional si aplica)
o	Fecha de vencimiento (opcional si aplica - medicamentos/consumibles)
o	Ubicaci√≥n f√≠sica en almac√©n (pasillo, estante, caja) - RF-INV-11
5.	Sistema valida datos ingresados
6.	Personal confirma "Registrar Entrada"
7.	Sistema:
o	Suma cantidad recibida al stock actual (RF-INV-01)
o	Genera movimiento tipo "Entrada" en historial (RF-INV-10)
o	Registra usuario, fecha/hora, proveedor, productos, cantidades (RF-AU-11)
o	Actualiza ubicaci√≥n f√≠sica (RF-INV-11)
8.	Sistema muestra confirmaci√≥n: "Entrada registrada exitosamente. Stock actualizado"
9.	Si hab√≠a alertas de stock m√≠nimo para esos productos, sistema las desactiva autom√°ticamente
Flujos Alternativos:
A1: Cantidad recibida menor que ordenada (Fase 2 con √≥rdenes de compra)
‚Ä¢	Sistema detecta discrepancia
‚Ä¢	Solicita justificaci√≥n: Producto agotado, Pedido parcial, Error proveedor
‚Ä¢	Registra incidencia para seguimiento
A2: Producto recibido da√±ado/defectuoso
‚Ä¢	Personal marca producto como da√±ado
‚Ä¢	Sistema solicita: Cantidad da√±ada, Foto evidencia (opcional)
‚Ä¢	Registra entrada solo de cantidad buena
‚Ä¢	Genera incidente para devoluci√≥n a proveedor (Fase 2)
A3: Producto no existe en cat√°logo
‚Ä¢	Personal selecciona "Producto no encontrado"
‚Ä¢	Opci√≥n de crear producto r√°pidamente (RF-GP-01)
‚Ä¢	Luego contin√∫a con registro de entrada
Reglas de Negocio:
RB1: Solo Personal Almac√©n y Jefe Log√≠stica pueden registrar entradas (RF-AU-04)
RB2: Cantidad recibida debe ser > 0
RB3: Entrada actualiza stock autom√°ticamente (no requiere confirmaci√≥n adicional)
RB4: Cada entrada genera movimiento auditable con timestamp (RF-AU-11)
RB5: Si stock alcanza nivel m√≠nimo despu√©s de entrada, sistema desactiva alertas
Frecuencia esperada: Media ‚Äî 5-15 entradas por semana
RF relacionados: RF-INV-01, RF-INV-10, RF-INV-11, RF-SOL-12, RF-GP-01, RF-AU-04, RF-AU-11
Notas UI / Rendimiento:
‚Ä¢	B√∫squeda de productos r√°pida con autocompletado
‚Ä¢	Posibilidad de escanear c√≥digo de barras (opcional - Fase 2)
‚Ä¢	Actualizaci√≥n de stock: < 1 segundo (RNF-01.1)
‚Ä¢	Interfaz optimizada para tablet en almac√©n
________________________________________
CU-08: Generar Reporte de Solicitudes por Per√≠odo
ID: CU-REP-01
Actor principal: Jefe de Log√≠stica, Gerencia
Actores secundarios: Sistema de Reportes
Objetivo: Obtener datos consolidados de solicitudes para toma de decisiones, evaluaci√≥n de gesti√≥n y an√°lisis de consumo.
Precondici√≥n:
‚Ä¢	Usuario autenticado con rol autorizado (RF-AU-02)
‚Ä¢	Datos de solicitudes disponibles en sistema
‚Ä¢	Rango de fechas v√°lido seleccionado
Postcondici√≥n:
‚Ä¢	Reporte generado con m√©tricas consolidadas
‚Ä¢	Exportable a PDF o Excel (RF-REP-05)
‚Ä¢	Guardado en historial de reportes para consulta futura
Flujo Principal:
1.	Usuario accede a m√≥dulo "Reportes y An√°lisis"
2.	Selecciona tipo de reporte: "Solicitudes por Per√≠odo"
3.	Sistema muestra filtros:
o	Rango de fechas (desde - hasta)
o	Departamento (Todos o espec√≠fico)
o	Estado (Todos, Aprobadas, Rechazadas, etc.)
o	Prioridad (Todas, Solo urgentes)
4.	Usuario configura filtros deseados
5.	Usuario hace clic en "Generar Reporte"
6.	Sistema procesa datos (< 5 segundos) y muestra reporte con:
o	Resumen ejecutivo:
ÔÇß	Total de solicitudes en per√≠odo
ÔÇß	Solicitudes aprobadas (cantidad y %)
ÔÇß	Solicitudes rechazadas (cantidad y %)
ÔÇß	Solicitudes pendientes
ÔÇß	Tiempo promedio de atenci√≥n (d√≠as)
o	Desglose por departamento (RF-REP-02):
ÔÇß	Cantidad de solicitudes por √°rea
ÔÇß	Gasto estimado por √°rea
ÔÇß	Productos m√°s solicitados por departamento
o	An√°lisis de cumplimiento (RF-REP-03, RF-REP-04):
ÔÇß	Solicitudes entregadas a tiempo vs retrasadas
ÔÇß	Motivos de rechazo m√°s frecuentes
ÔÇß	Solicitudes incumplidas (pendientes > X d√≠as)
o	Gr√°ficos visuales:
ÔÇß	Tendencia de solicitudes por semana
ÔÇß	Distribuci√≥n por estado (pie chart)
ÔÇß	Top 10 productos m√°s solicitados
7.	Usuario puede:
o	Exportar a PDF (para presentaciones) - RF-REP-05
o	Exportar a Excel (para an√°lisis externo) - RF-REP-05
o	Guardar configuraci√≥n de reporte como favorito
o	Programar env√≠o autom√°tico por email (semanal/mensual)
Flujos Alternativos:
A1: Filtros sin resultados
‚Ä¢	Sistema muestra mensaje: "No hay datos para los filtros seleccionados"
‚Ä¢	Sugiere ampliar rango de fechas o cambiar filtros
A2: Generaci√≥n de reporte tarda > 10 segundos (muchos datos)
‚Ä¢	Sistema muestra barra de progreso: "Procesando datos..."
‚Ä¢	Permite cancelar operaci√≥n si demora excesiva
A3: Usuario programa env√≠o autom√°tico
‚Ä¢	Configura frecuencia: Diario, Semanal, Mensual
‚Ä¢	Indica destinatarios (emails)
‚Ä¢	Sistema env√≠a reporte autom√°ticamente seg√∫n programaci√≥n
Reglas de Negocio:
RB1: Solo Jefe de Log√≠stica y Gerencia pueden generar reportes consolidados
RB2: Reportes incluyen solo datos de solicitudes del sistema (no datos externos)
RB3: Exportaci√≥n a Excel incluye datos crudos para an√°lisis personalizado
RB4: Reportes guardados se archivan por 12 meses
Frecuencia esperada: Media ‚Äî 10-20 reportes por mes
RF relacionados: RF-REP-01, RF-REP-02, RF-REP-03, RF-REP-04, RF-REP-05, RF-AU-02
Notas UI / Rendimiento:
‚Ä¢	Gr√°ficos interactivos (Chart.js o ApexCharts)
‚Ä¢	Generaci√≥n de reporte: < 5 segundos para 1,000 solicitudes (RNF-01.1)
‚Ä¢	Exportaci√≥n PDF: < 3 segundos
‚Ä¢	Dashboard con preview antes de exportar
________________________________________
CU-09: Ver Dashboard Ejecutivo de KPIs
ID: CU-REP-02
Actor principal: Gerencia, Jefe de Log√≠stica
Actores secundarios: Sistema de Reportes
Objetivo: Visualizar en tiempo real indicadores clave de desempe√±o (KPIs) del √°rea log√≠stica para supervisi√≥n estrat√©gica.
Precondici√≥n:
‚Ä¢	Usuario autenticado con rol autorizado
‚Ä¢	Datos actualizados en sistema
Postcondici√≥n:
‚Ä¢	KPIs mostrados con gr√°ficos interactivos
‚Ä¢	Alertas cr√≠ticas visibles
Flujo Principal:
1.	Usuario accede a m√≥dulo "Dashboard Ejecutivo"
2.	Sistema carga y muestra en pantalla principal (RF-REP-11):
o	KPIs Principales (widgets grandes):
ÔÇß	Solicitudes completadas este mes (n√∫mero + tendencia vs mes anterior)
ÔÇß	Tiempo promedio de atenci√≥n (d√≠as + gr√°fico de tendencia)
ÔÇß	Precisi√≥n de inventario (% + indicador verde/amarillo/rojo)
ÔÇß	Costo log√≠stico del mes (S/. + comparativa con presupuesto)
ÔÇß	Tasa de cumplimiento on-time (% + gr√°fico)
o	Alertas Cr√≠ticas (RF-REP-12):
ÔÇß	üî¥ 5 productos en stock cr√≠tico (‚â§ 0)
ÔÇß	üü° 12 solicitudes pendientes > 3 d√≠as
ÔÇß	üü† Presupuesto del √°rea Finanzas al 95%
o	Gr√°ficos Interactivos (RF-REP-13):
ÔÇß	Tendencia de solicitudes (√∫ltimos 6 meses)
ÔÇß	Consumo por departamento (bar chart)
ÔÇß	Rotaci√≥n de inventario (productos r√°pidos vs lentos)
o	Accesos R√°pidos:
ÔÇß	Ver solicitudes pendientes
ÔÇß	Ver productos con stock bajo
ÔÇß	Generar reporte personalizado
3.	Usuario puede hacer clic en cualquier KPI para ver detalle ampliado
4.	Dashboard se actualiza autom√°ticamente cada 5 minutos (o manual con bot√≥n "Refrescar")
Flujos Alternativos:
A1: Usuario hace clic en alerta cr√≠tica
‚Ä¢	Sistema muestra detalle de la alerta (ej: lista de productos en stock cr√≠tico)
‚Ä¢	Ofrece acci√≥n directa (ej: "Crear orden de compra")
A2: Usuario filtra dashboard por per√≠odo
‚Ä¢	Cambia visualizaci√≥n: Hoy, Esta semana, Este mes, √öltimos 3 meses, A√±o completo
‚Ä¢	Gr√°ficos se actualizan din√°micamente
Reglas de Negocio:
RB1: Dashboard solo accesible por Gerencia y Jefe Log√≠stica
RB2: Alertas cr√≠ticas tienen m√°xima prioridad visual (color rojo)
RB3: KPIs se calculan en tiempo real desde base de datos
Frecuencia esperada: Alta ‚Äî consultado diariamente por gerencia
RF relacionados: RF-REP-11, RF-REP-12, RF-REP-13
Notas UI / Rendimiento:
‚Ä¢	Carga inicial del dashboard: < 3 segundos (RNF-01.1)
‚Ä¢	Gr√°ficos interactivos con hover tooltips
‚Ä¢	Responsive para visualizaci√≥n en tablet/laptop
________________________________________
CU-10: Gestionar Usuarios y Roles
ID: CU-AU-01
Actor principal: Jefe de Log√≠stica (Admin del sistema)
Actores secundarios: Ninguno
Objetivo: Crear, editar y desactivar cuentas de usuarios, asignar roles y permisos para control de accesos.
Precondici√≥n:
‚Ä¢	Usuario autenticado con rol "Admin Log√≠stica" (RF-AU-02)
‚Ä¢	Roles predefinidos configurados en sistema
Postcondici√≥n:
‚Ä¢	Usuario creado/editado/desactivado seg√∫n acci√≥n
‚Ä¢	Permisos aplicados inmediatamente
‚Ä¢	Registro en auditor√≠a de cambios (RF-AU-11)
Flujo Principal (Crear Usuario):
1.	Admin accede a m√≥dulo "Administraci√≥n de Usuarios"
2.	Admin hace clic en "Nuevo Usuario"
3.	Sistema muestra formulario:
o	Nombre completo
o	Email (ser√° username)
o	Departamento (desplegable)
o	Puesto/Cargo
o	Rol (desplegable: Admin Log√≠stica, Personal Almac√©n, Jefe Departamento, Empleado General) - RF-AU-02
4.	Admin llena campos y selecciona rol
5.	Sistema valida que email no est√© duplicado
6.	Admin confirma "Crear Usuario"
7.	Sistema:
o	Genera contrase√±a temporal aleatoria
o	Crea cuenta con rol asignado (RF-AU-01)
o	Env√≠a email al usuario con credenciales temporales y link para cambiar contrase√±a (RF-AU-05)
o	Registra en auditor√≠a: qui√©n cre√≥, cu√°ndo (RF-AU-11)
8.	Sistema muestra mensaje: "Usuario [Nombre] creado exitosamente. Email enviado"
Flujo Alternativo (Desactivar Usuario):
A1: Admin desactiva usuario que se retir√≥
1.	Admin selecciona usuario de lista
2.	Admin hace clic en "Desactivar Usuario"
3.	Sistema solicita confirmaci√≥n: "¬øEst√° seguro? Usuario no podr√° acceder al sistema"
4.	Admin confirma
5.	Sistema:
o	Marca usuario como inactivo (no se elimina) - RF-AU-04
o	Cierra sesiones activas del usuario
o	Preserva historial de operaciones realizadas (RF-AU-03)
o	Registra en auditor√≠a (RF-AU-11)
Flujo Alternativo (Asignar/Cambiar Rol):
A2: Admin cambia rol de usuario
1.	Admin selecciona usuario
2.	Admin hace clic en "Cambiar Rol"
3.	Sistema muestra roles disponibles
4.	Admin selecciona nuevo rol (RF-AU-02, RF-AU-08)
5.	Sistema aplica cambio inmediatamente
6.	Si usuario tiene sesi√≥n activa, permisos se actualizan en pr√≥ximo acceso
Reglas de Negocio:
RB1: Solo Admin Log√≠stica puede gestionar usuarios (RF-AU-04)
RB2: Email debe ser √∫nico (no duplicados)
RB3: Usuario desactivado preserva historial pero no puede acceder al sistema
RB4: Cambio de rol aplica inmediatamente (no requiere logout/login forzado)
RB5: No se pueden eliminar usuarios, solo desactivar (para auditor√≠a)
Frecuencia esperada: Baja ‚Äî 2-5 usuarios nuevos por trimestre
RF relacionados: RF-AU-01, RF-AU-02, RF-AU-03, RF-AU-04, RF-AU-05, RF-AU-08, RF-AU-11
________________________________________
MAPEO R√ÅPIDO: CASOS DE USO ‚Üí M√ìDULOS ‚Üí REQUERIMIENTOS
M√≥dulo	Casos de Uso	RF Relacionados
Gesti√≥n Solicitudes	CU-SOL-01 a CU-SOL-05	RF-SOL-01 a RF-SOL-23
Gesti√≥n Productos	CU-GP-01	RF-GP-01 a RF-GP-15
Gesti√≥n Inventario	CU-INV-01	RF-INV-01 a RF-INV-14
Reportes y An√°lisis	CU-REP-01, CU-REP-02	RF-REP-01 a RF-REP-14
Administraci√≥n	CU-AU-01	RF-AU-01 a RF-AU-15
Proveedores	(Fase 2)	RF-PROV-01 a RF-PROV-04
________________________________________
NOTAS SOBRE EL DIAGRAMA UML
Representaci√≥n gr√°fica recomendada:
1.	Actores a la izquierda: Empleado Administrativo, Jefe Departamento, Personal Almac√©n
2.	Actores a la derecha: Jefe de Log√≠stica, Gerencia
3.	Caso de uso LOGIN en el centro inferior con l√≠neas <<include>> hacia todos los casos que requieren autenticaci√≥n
4.	Agrupaci√≥n por paquetes:
o	Paquete "Gesti√≥n Solicitudes" (verde)
o	Paquete "Gesti√≥n Inventario" (azul)
o	Paquete "Reportes" (naranja)
o	Paquete "Administraci√≥n" (gris)
5.	Relaciones <<include>>:
o	Crear Solicitud <<include>> Ver Cat√°logo Productos
o	Despachar Solicitud <<include>> Actualizar Inventario
o	Generar Reporte <<include>> Consultar Datos Actualizados
6.	Relaciones <<extend>>:
o	Crear Solicitud <<extend>> Marcar como Urgente
o	Registrar Producto <<extend>> Cargar Imagen
o	Aprobar Solicitud <<extend>> Solicitar Autorizaci√≥n Gerencia

MODELO DE DATOS - SISTEMA DE GESTI√ìN LOG√çSTICA
Base de Datos Relacional para Cl√≠nica San Juan Bautista
1. ENTIDADES PRINCIPALES
üü§ PRODUCTOS (ID-ENT-01)
Descripci√≥n: Cat√°logo de productos administrativos disponibles en la cl√≠nica
Atributo	Tipo	Restricciones	Descripci√≥n
producto_id	INT	PK, AUTO_INCREMENT	Identificador √∫nico del producto
codigo	VARCHAR(50)	UNIQUE, NOT NULL	C√≥digo interno √∫nico (ej. "OFF-PAP-001")
nombre	VARCHAR(200)	NOT NULL	Nombre del producto (ej. "Papel Bond A4 75g")
descripcion	TEXT	NULL	Descripci√≥n detallada del producto
categoria_id	INT	FK, NOT NULL	Referencia a categor√≠a
unidad_medida	ENUM	NOT NULL	Valores: 'Unidad', 'Caja', 'Paquete', 'Resma', 'Litro'
precio_unitario	DECIMAL(10,2)	NOT NULL	Precio estimado de compra
stock_minimo	INT	NOT NULL	Nivel m√≠nimo de stock antes de alerta
stock_maximo	INT	NOT NULL	Nivel m√°ximo de stock recomendado
proveedor_principal_id	INT	FK, NULL	Proveedor preferencial (opcional - Fase 2)
imagen	VARCHAR(500)	NULL	Ruta de imagen del producto
estado	ENUM	NOT NULL, DEFAULT 'Activo'	Valores: 'Activo', 'Inactivo'
fecha_creacion	DATETIME	NOT NULL, DEFAULT CURRENT_TIMESTAMP	Fecha de registro
fecha_actualizacion	DATETIME	NULL	√öltima modificaci√≥n
üîó Relaciones:
‚Ä¢	1..N con DETALLE_SOLICITUDES (un producto puede estar en muchas solicitudes)
‚Ä¢	N..1 con CATEGORIAS (cada producto pertenece a una categor√≠a)
‚Ä¢	N..1 con PROVEEDORES (producto tiene proveedor principal) - Fase 2
‚Ä¢	1..N con MOVIMIENTOS_INVENTARIO (un producto tiene muchos movimientos)
üü§ SOLICITUDES (ID-ENT-02)
Descripci√≥n: Registro de todas las solicitudes de materiales realizadas por departamentos
Atributo	Tipo	Restricciones	Descripci√≥n
solicitud_id	INT	PK, AUTO_INCREMENT	Identificador √∫nico de solicitud
numero_solicitud	VARCHAR(50)	UNIQUE, NOT NULL	N√∫mero formateado (SJB-20251029-0001)
departamento_id	INT	FK, NOT NULL	Departamento que solicita
usuario_solicitante_id	INT	FK, NOT NULL	Usuario que crea la solicitud
fecha_solicitud	DATETIME	NOT NULL, DEFAULT CURRENT_TIMESTAMP	Fecha/hora de creaci√≥n
fecha_requerida	DATE	NOT NULL	Fecha en que se necesitan los productos
estado	ENUM	NOT NULL, DEFAULT 'Pendiente'	Valores: 'Pendiente', 'En Revisi√≥n', 'Aprobada', 'Despachada', 'Entregada', 'Rechazada', 'Cancelada'
prioridad	ENUM	NOT NULL, DEFAULT 'Normal'	Valores: 'Normal', 'Urgente'
justificacion	TEXT	NULL	Motivo de la solicitud
usuario_aprobador_id	INT	FK, NULL	Jefe de log√≠stica que aprob√≥/rechaz√≥
fecha_aprobacion	DATETIME	NULL	Fecha/hora de aprobaci√≥n o rechazo
motivo_rechazo	TEXT	NULL	Si fue rechazada, raz√≥n del rechazo
usuario_despachador_id	INT	FK, NULL	Personal almac√©n que despach√≥
fecha_despacho	DATETIME	NULL	Fecha/hora de despacho
usuario_receptor_id	INT	FK, NULL	Jefe departamento que confirm√≥ recepci√≥n
fecha_recepcion	DATETIME	NULL	Fecha/hora de confirmaci√≥n recepci√≥n
observaciones_recepcion	TEXT	NULL	Notas sobre recepci√≥n (discrepancias)
costo_total_estimado	DECIMAL(10,2)	NULL	Suma de costos de productos solicitados
origen_solicitud	ENUM	NOT NULL, DEFAULT 'Manual'	Valores: 'Manual', 'Link Compartido', 'OCR Imagen'
üîó Relaciones:
‚Ä¢	1..N con DETALLE_SOLICITUDES (una solicitud tiene varios productos)
‚Ä¢	N..1 con DEPARTAMENTOS (cada solicitud es de un departamento)
‚Ä¢	N..1 con USUARIOS (solicitante, aprobador, despachador, receptor)
‚Ä¢	1..N con MOVIMIENTOS_INVENTARIO (solicitud genera movimientos de salida)
üü§ DETALLE_SOLICITUDES (ID-ENT-03)
Descripci√≥n: Productos incluidos en cada solicitud con especificaciones
Atributo	Tipo	Restricciones	Descripci√≥n
detalle_id	INT	PK, AUTO_INCREMENT	Identificador √∫nico de detalle
solicitud_id	INT	FK, NOT NULL	Solicitud a la que pertenece
producto_id	INT	FK, NOT NULL	Producto solicitado
cantidad_solicitada	INT	NOT NULL	Cantidad requerida
cantidad_aprobada	INT	NULL	Cantidad aprobada (puede ser menor)
cantidad_despachada	INT	NULL	Cantidad realmente despachada
cantidad_recibida	INT	NULL	Cantidad confirmada por receptor
especificaciones	TEXT	NULL	Notas adicionales (marca, color, tama√±o, etc.)
precio_unitario_estimado	DECIMAL(10,2)	NULL	Precio al momento de solicitud
subtotal_estimado	DECIMAL(10,2)	NULL	cantidad_solicitada √ó precio_unitario
estado_item	ENUM	NOT NULL, DEFAULT 'Pendiente'	Valores: 'Pendiente', 'Aprobado', 'Despachado', 'Recibido', 'Rechazado'
üîó Relaciones:
‚Ä¢	N..1 con SOLICITUDES
‚Ä¢	N..1 con PRODUCTOS
Regla de Negocio:
‚Ä¢	subtotal_estimado = cantidad_solicitada √ó precio_unitario_estimado (calculado autom√°ticamente)
üü§ USUARIOS (ID-ENT-04)
Descripci√≥n: Empleados administrativos con acceso al sistema
Atributo	Tipo	Restricciones	Descripci√≥n
usuario_id	INT	PK, AUTO_INCREMENT	Identificador √∫nico de usuario
nombre	VARCHAR(100)	NOT NULL	Nombre del usuario
apellido	VARCHAR(100)	NOT NULL	Apellido del usuario
email	VARCHAR(200)	UNIQUE, NOT NULL	Email (usado como username)
contrase√±a_hash	VARCHAR(255)	NOT NULL	Contrase√±a encriptada (bcrypt)
departamento_id	INT	FK, NULL	Departamento al que pertenece
puesto	VARCHAR(100)	NULL	Cargo del empleado
rol	ENUM	NOT NULL	Valores: 'Admin Log√≠stica', 'Personal Almac√©n', 'Jefe Departamento', 'Empleado General'
estado	ENUM	NOT NULL, DEFAULT 'Activo'	Valores: 'Activo', 'Inactivo'
fecha_registro	DATETIME	NOT NULL, DEFAULT CURRENT_TIMESTAMP	Fecha de alta en sistema
ultimo_acceso	DATETIME	NULL	√öltima vez que ingres√≥ al sistema
üîó Relaciones:
‚Ä¢	N..1 con DEPARTAMENTOS
‚Ä¢	1..N con SOLICITUDES (como solicitante, aprobador, despachador, receptor)
‚Ä¢	1..N con BITACORA_AUDITORIA (seguimiento de acciones)
‚Ä¢	1..N con MOVIMIENTOS_INVENTARIO (como usuario responsable)
Nota de Seguridad:
‚Ä¢	La contrase√±a nunca se almacena en texto plano
‚Ä¢	Se usa bcrypt con salt para hashing
‚Ä¢	Se implementa JWT para autenticaci√≥n de sesiones
üü§ DEPARTAMENTOS (ID-ENT-05)
Descripci√≥n: √Åreas administrativas de la cl√≠nica que solicitan materiales
Atributo	Tipo	Restricciones	Descripci√≥n
departamento_id	INT	PK, AUTO_INCREMENT	Identificador √∫nico de departamento
nombre	VARCHAR(100)	UNIQUE, NOT NULL	Nombre del departamento (ej. "Administraci√≥n", "Finanzas")
codigo	VARCHAR(20)	UNIQUE, NOT NULL	C√≥digo corto (ej. "ADM", "FIN")
descripcion	TEXT	NULL	Descripci√≥n del √°rea
presupuesto_mensual	DECIMAL(10,2)	NULL	Presupuesto log√≠stico asignado al mes
jefe_departamento_id	INT	FK, NULL	Usuario responsable del departamento
estado	ENUM	NOT NULL, DEFAULT 'Activo'	Valores: 'Activo', 'Inactivo'
fecha_creacion	DATETIME	NOT NULL, DEFAULT CURRENT_TIMESTAMP	Fecha de registro
üîó Relaciones:
‚Ä¢	1..N con SOLICITUDES (un departamento hace muchas solicitudes)
‚Ä¢	1..N con USUARIOS (un departamento tiene varios empleados)
‚Ä¢	N..1 con USUARIOS (como jefe del departamento)
üü§ CATEGORIAS (ID-ENT-06)
Descripci√≥n: Clasificaci√≥n de productos administrativos
Atributo	Tipo	Restricciones	Descripci√≥n
categoria_id	INT	PK, AUTO_INCREMENT	Identificador √∫nico de categor√≠a
nombre	VARCHAR(100)	UNIQUE, NOT NULL	Nombre de categor√≠a (ej. "Material Oficina")
descripcion	TEXT	NULL	Descripci√≥n de la categor√≠a
color_identificador	VARCHAR(7)	NULL	Color hexadecimal para UI (ej. "#FF5733")
icono	VARCHAR(50)	NULL	Nombre de √≠cono FontAwesome (ej. "fa-clipboard")
estado	ENUM	NOT NULL, DEFAULT 'Activo'	Valores: 'Activo', 'Inactivo'
orden_visualizacion	INT	NULL	Orden de presentaci√≥n en UI
üîó Relaciones:
‚Ä¢	1..N con PRODUCTOS (una categor√≠a agrupa muchos productos)
Ejemplos de Categor√≠as:
‚Ä¢	Material de Oficina
‚Ä¢	Equipos de C√≥mputo
‚Ä¢	Mobiliario
‚Ä¢	Consumibles Generales
‚Ä¢	Servicios Generales
‚Ä¢	Material de Limpieza
________________________________________
üü§ MOVIMIENTOS_INVENTARIO (ID-ENT-07)
Descripci√≥n: Registro de todas las entradas, salidas y ajustes de inventario
Atributo	Tipo	Restricciones	Descripci√≥n
movimiento_id	INT	PK, AUTO_INCREMENT	Identificador √∫nico de movimiento
producto_id	INT	FK, NOT NULL	Producto que se movi√≥
tipo_movimiento	ENUM	NOT NULL	Valores: 'Entrada', 'Salida', 'Ajuste', 'Transferencia'
cantidad	INT	NOT NULL	Cantidad del movimiento (positiva o negativa)
stock_anterior	INT	NOT NULL	Stock antes del movimiento (para auditor√≠a)
stock_nuevo	INT	NOT NULL	Stock despu√©s del movimiento
fecha_movimiento	DATETIME	NOT NULL, DEFAULT CURRENT_TIMESTAMP	Fecha/hora del movimiento
usuario_responsable_id	INT	FK, NOT NULL	Usuario que registr√≥ el movimiento
solicitud_id	INT	FK, NULL	Si fue por solicitud, referencia a ella
motivo	VARCHAR(200)	NULL	Raz√≥n del movimiento
observaciones	TEXT	NULL	Notas adicionales
lote_serie	VARCHAR(100)	NULL	Lote o serie (si aplica)
fecha_vencimiento	DATE	NULL	Fecha de vencimiento (si aplica)
ubicacion_fisica	VARCHAR(100)	NULL	Ubicaci√≥n en almac√©n (pasillo, estante)
proveedor_id	INT	FK, NULL	Si es entrada, proveedor origen (Fase 2)
precio_unitario	DECIMAL(10,2)	NULL	Precio al momento del movimiento
üîó Relaciones:
‚Ä¢	N..1 con PRODUCTOS
‚Ä¢	N..1 con USUARIOS (responsable)
‚Ä¢	N..1 con SOLICITUDES (opcional, si movimiento fue por solicitud)
‚Ä¢	N..1 con PROVEEDORES (opcional, si es entrada - Fase 2)
Regla de Negocio:
‚Ä¢	stock_nuevo = stock_anterior + cantidad (si entrada)
‚Ä¢	stock_nuevo = stock_anterior - cantidad (si salida)
‚Ä¢	Todo movimiento debe tener usuario responsable y timestamp para auditor√≠a
________________________________________
üü§ PROVEEDORES (ID-ENT-08) - Opcional Fase 2
Descripci√≥n: Empresas que suministran productos administrativos
Atributo	Tipo	Restricciones	Descripci√≥n
proveedor_id	INT	PK, AUTO_INCREMENT	Identificador √∫nico de proveedor
nombre	VARCHAR(200)	NOT NULL	Nombre de la empresa
ruc	VARCHAR(11)	UNIQUE, NOT NULL	RUC del proveedor
direccion	TEXT	NULL	Direcci√≥n f√≠sica
telefono	VARCHAR(20)	NULL	Tel√©fono principal
email	VARCHAR(200)	NULL	Email de contacto
contacto_nombre	VARCHAR(100)	NULL	Nombre del representante
contacto_telefono	VARCHAR(20)	NULL	Tel√©fono del representante
condiciones_pago	TEXT	NULL	Condiciones (contado, 30 d√≠as, etc.)
calificacion	DECIMAL(3,2)	NULL	Calificaci√≥n promedio (1.00 - 5.00)
estado	ENUM	NOT NULL, DEFAULT 'Activo'	Valores: 'Activo', 'Inactivo'
fecha_registro	DATETIME	NOT NULL, DEFAULT CURRENT_TIMESTAMP	Fecha de alta
üîó Relaciones:
‚Ä¢	1..N con PRODUCTOS (un proveedor suministra muchos productos)
‚Ä¢	1..N con MOVIMIENTOS_INVENTARIO (como origen de entradas)
üü§ BITACORA_AUDITORIA (ID-ENT-09)
Descripci√≥n: Registro de todas las operaciones realizadas en el sistema para auditor√≠a
Atributo	Tipo	Restricciones	Descripci√≥n
auditoria_id	INT	PK, AUTO_INCREMENT	Identificador √∫nico de registro
usuario_id	INT	FK, NOT NULL	Usuario que realiz√≥ la acci√≥n
accion	VARCHAR(100)	NOT NULL	Tipo de acci√≥n (CREATE, UPDATE, DELETE, LOGIN, etc.)
tabla_afectada	VARCHAR(50)	NOT NULL	Tabla de base de datos modificada
registro_id	INT	NULL	ID del registro afectado
valores_anteriores	JSON	NULL	Datos antes del cambio (JSON)
valores_nuevos	JSON	NULL	Datos despu√©s del cambio (JSON)
fecha_hora	DATETIME	NOT NULL, DEFAULT CURRENT_TIMESTAMP	Timestamp exacto
ip_address	VARCHAR(45)	NULL	Direcci√≥n IP desde donde se realiz√≥
user_agent	VARCHAR(500)	NULL	Navegador/dispositivo usado
üîó Relaciones:
‚Ä¢	N..1 con USUARIOS (cada acci√≥n la realiza un usuario)
Nota de Seguridad:
‚Ä¢	Los registros de auditor√≠a NUNCA se eliminan
‚Ä¢	Solo se pueden consultar (READ-ONLY para usuarios normales)
‚Ä¢	Admin puede exportar para auditor√≠as externas
2. RELACIONES CLAVE (Diagrama Entidad-Relaci√≥n)
Cardinalidades y Descripciones
ID Relaci√≥n	Entidad Origen	Cardinalidad	Entidad Destino	Descripci√≥n
R1	SOLICITUDES	1..N	DETALLE_SOLICITUDES	Una solicitud contiene uno o varios productos
R2	DETALLE_SOLICITUDES	N..1	PRODUCTOS	Cada detalle de solicitud hace referencia a un producto
R3	SOLICITUDES	N..1	DEPARTAMENTOS	Cada solicitud pertenece a un departamento
R4	SOLICITUDES	N..1	USUARIOS (solicitante)	Cada solicitud la crea un usuario
R5	SOLICITUDES	N..1	USUARIOS (aprobador)	Cada solicitud la aprueba/rechaza el jefe log√≠stica (opcional) 
R6	SOLICITUDES	N..1	USUARIOS (despachador)	Cada solicitud la despacha personal almac√©n (opcional)
R7	SOLICITUDES	N..1	USUARIOS (receptor)	Cada solicitud la confirma el jefe departamento (opcional)
R8	PRODUCTOS	N..1	CATEGORIAS	Cada producto pertenece a una categor√≠a
R9	PRODUCTOS	1..N	MOVIMIENTOS_INVENTARIO	Un producto tiene muchos movimientos de stock
R10	MOVIMIENTOS_INVENTARIO	N..1	USUARIOS	Cada movimiento lo registra un usuario 
R11	MOVIMIENTOS_INVENTARIO	N..1	SOLICITUDES	Movimientos de salida generalmente asociados a solicitudes (opcional)
R12	USUARIOS	N..1	DEPARTAMENTOS	Cada usuario pertenece a un departamento
R13	USUARIOS	1..N	BITACORA_AUDITORIA	Cada usuario genera registros de auditor√≠a
R14	PRODUCTOS	N..1	PROVEEDORES	Cada producto tiene un proveedor principal (opcional - Fase 2) 
R15	MOVIMIENTOS_INVENTARIO	N..1	PROVEEDORES	Entradas de inventario provienen de proveedores (opcional - Fase 2) 

3. √çNDICES RECOMENDADOS (Para Optimizaci√≥n de Consultas)
sql
-- √çndices en PRODUCTOS
CREATE INDEX idx_productos_codigo ON PRODUCTOS(codigo);
CREATE INDEX idx_productos_categoria ON PRODUCTOS(categoria_id);
CREATE INDEX idx_productos_estado ON PRODUCTOS(estado);

-- √çndices en SOLICITUDES
CREATE INDEX idx_solicitudes_numero ON SOLICITUDES(numero_solicitud);
CREATE INDEX idx_solicitudes_estado ON SOLICITUDES(estado);
CREATE INDEX idx_solicitudes_departamento ON SOLICITUDES(departamento_id);
CREATE INDEX idx_solicitudes_solicitante ON SOLICITUDES(usuario_solicitante_id);
CREATE INDEX idx_solicitudes_fecha ON SOLICITUDES(fecha_solicitud);

-- √çndices en MOVIMIENTOS_INVENTARIO
CREATE INDEX idx_movimientos_producto ON MOVIMIENTOS_INVENTARIO(producto_id);
CREATE INDEX idx_movimientos_fecha ON MOVIMIENTOS_INVENTARIO(fecha_movimiento);
CREATE INDEX idx_movimientos_tipo ON MOVIMIENTOS_INVENTARIO(tipo_movimiento);

-- √çndices en USUARIOS
CREATE INDEX idx_usuarios_email ON USUARIOS(email);
CREATE INDEX idx_usuarios_departamento ON USUARIOS(departamento_id);
CREATE INDEX idx_usuarios_estado ON USUARIOS(estado);
________________________________________
4. VISTAS RECOMENDADAS (Para Simplificar Consultas Complejas)
Vista: Vista_Solicitudes_Completas
sql
CREATE VIEW Vista_Solicitudes_Completas AS
SELECT 
    s.solicitud_id,
    s.numero_solicitud,
    s.estado,
    s.prioridad,
    s.fecha_solicitud,
    s.fecha_requerida,
    d.nombre AS departamento,
    u1.nombre AS solicitante_nombre,
    u1.apellido AS solicitante_apellido,
    u2.nombre AS aprobador_nombre,
    u2.apellido AS aprobador_apellido,
    COUNT(ds.detalle_id) AS total_productos,
    SUM(ds.cantidad_solicitada) AS total_cantidad,
    s.costo_total_estimado
FROM SOLICITUDES s
INNER JOIN DEPARTAMENTOS d ON s.departamento_id = d.departamento_id
INNER JOIN USUARIOS u1 ON s.usuario_solicitante_id = u1.usuario_id
LEFT JOIN USUARIOS u2 ON s.usuario_aprobador_id = u2.usuario_id
LEFT JOIN DETALLE_SOLICITUDES ds ON s.solicitud_id = ds.solicitud_id
GROUP BY s.solicitud_id;
Vista: Vista_Stock_Actual
sql
CREATE VIEW Vista_Stock_Actual AS
SELECT 
    p.producto_id,
    p.codigo,
    p.nombre,
    c.nombre AS categoria,
    p.stock_minimo,
    p.stock_maximo,
    COALESCE(SUM(CASE WHEN m.tipo_movimiento = 'Entrada' THEN m.cantidad
                      WHEN m.tipo_movimiento = 'Salida' THEN -m.cantidad
                      WHEN m.tipo_movimiento = 'Ajuste' THEN m.cantidad
                 END), 0) AS stock_actual,
    CASE 
        WHEN COALESCE(SUM(CASE WHEN m.tipo_movimiento = 'Entrada' THEN m.cantidad
                               WHEN m.tipo_movimiento = 'Salida' THEN -m.cantidad
                               WHEN m.tipo_movimiento = 'Ajuste' THEN m.cantidad
                          END), 0) = 0 THEN 'Cr√≠tico'
        WHEN COALESCE(SUM(CASE WHEN m.tipo_movimiento = 'Entrada' THEN m.cantidad
                               WHEN m.tipo_movimiento = 'Salida' THEN -m.cantidad
                               WHEN m.tipo_movimiento = 'Ajuste' THEN m.cantidad
                          END), 0) <= p.stock_minimo THEN 'Bajo'
        ELSE 'Normal'
    END AS estado_stock
FROM PRODUCTOS p
INNER JOIN CATEGORIAS c ON p.categoria_id = c.categoria_id
LEFT JOIN MOVIMIENTOS_INVENTARIO m ON p.producto_id = m.producto_id
WHERE p.estado = 'Activo'
GROUP BY p.producto_id;

MODELO F√çSICO DE BASE DE DATOS
Sistema de Gesti√≥n Log√≠stica Administrativa - Cl√≠nica San Juan Bautista
________________________________________
1. CREACI√ìN DE BASE DE DATOS
sql
-- ========================================
-- CREACI√ìN DE BASE DE DATOS
-- ========================================
CREATE DATABASE IF NOT EXISTS logistica_sjb_db
    CHARACTER SET utf8mb4
    COLLATE utf8mb4_unicode_ci;

USE logistica_sjb_db;

-- ========================================
-- CONFIGURACIONES INICIALES
-- ========================================
SET FOREIGN_KEY_CHECKS = 1;
SET SQL_MODE = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION';
________________________________________
2. CREACI√ìN DE TABLAS
üü§ TABLA: CATEGORIAS (ML-TAB-01)
sql
CREATE TABLE categorias (
    categoria_id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL UNIQUE,
    descripcion TEXT,
    color_identificador VARCHAR(7) COMMENT 'Color hexadecimal (ej: #FF5733)',
    icono VARCHAR(50) COMMENT 'Icono FontAwesome (ej: fa-clipboard)',
    orden_visualizacion INT DEFAULT 0,
    estado ENUM('Activo', 'Inactivo') DEFAULT 'Activo' NOT NULL,
    fecha_creacion DATETIME DEFAULT CURRENT_TIMESTAMP,
    fecha_actualizacion DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_estado (estado),
    INDEX idx_nombre (nombre)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Categor√≠as de productos administrativos';
________________________________________
üü§ TABLA: DEPARTAMENTOS (ML-TAB-02)
sql
CREATE TABLE departamentos (
    departamento_id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL UNIQUE,
    codigo VARCHAR(20) NOT NULL UNIQUE COMMENT 'C√≥digo corto (ej: ADM, FIN)',
    descripcion TEXT,
    presupuesto_mensual DECIMAL(10,2) DEFAULT 0.00 CHECK (presupuesto_mensual >= 0),
    jefe_departamento_id INT DEFAULT NULL,
    estado ENUM('Activo', 'Inactivo') DEFAULT 'Activo' NOT NULL,
    fecha_creacion DATETIME DEFAULT CURRENT_TIMESTAMP,
    fecha_actualizacion DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_codigo (codigo),
    INDEX idx_estado (estado),
    INDEX idx_jefe (jefe_departamento_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Departamentos administrativos de la cl√≠nica';
________________________________________
üü§ TABLA: USUARIOS (ML-TAB-03)
sql
CREATE TABLE usuarios (
    usuario_id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    apellido VARCHAR(100) NOT NULL,
    email VARCHAR(200) NOT NULL UNIQUE,
    contrase√±a_hash VARCHAR(255) NOT NULL COMMENT 'Contrase√±a encriptada con bcrypt',
    departamento_id INT DEFAULT NULL,
    puesto VARCHAR(100),
    rol ENUM('Admin Log√≠stica', 'Personal Almac√©n', 'Jefe Departamento', 'Empleado General') NOT NULL,
    estado ENUM('Activo', 'Inactivo') DEFAULT 'Activo' NOT NULL,
    fecha_registro DATETIME DEFAULT CURRENT_TIMESTAMP,
    ultimo_acceso DATETIME DEFAULT NULL,
    
    CONSTRAINT fk_usuario_departamento FOREIGN KEY (departamento_id)
        REFERENCES departamentos(departamento_id)
        ON UPDATE CASCADE
        ON DELETE SET NULL,
    
    INDEX idx_email (email),
    INDEX idx_rol (rol),
    INDEX idx_estado (estado),
    INDEX idx_departamento (departamento_id),
    INDEX idx_nombre_completo (nombre, apellido)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Usuarios del sistema con roles y permisos';

-- Agregar FK de jefe_departamento despu√©s de crear tabla usuarios
ALTER TABLE departamentos
ADD CONSTRAINT fk_departamento_jefe FOREIGN KEY (jefe_departamento_id)
    REFERENCES usuarios(usuario_id)
    ON UPDATE CASCADE
    ON DELETE SET NULL;
________________________________________
üü§ TABLA: PRODUCTOS (ML-TAB-04)
sql
CREATE TABLE productos (
    producto_id INT AUTO_INCREMENT PRIMARY KEY,
    codigo VARCHAR(50) NOT NULL UNIQUE COMMENT 'C√≥digo √∫nico del producto (ej: OFF-PAP-001)',
    nombre VARCHAR(200) NOT NULL,
    descripcion TEXT,
    categoria_id INT NOT NULL,
    unidad_medida ENUM('Unidad', 'Caja', 'Paquete', 'Resma', 'Litro', 'Kilo', 'Metro') NOT NULL,
    precio_unitario DECIMAL(10,2) NOT NULL CHECK (precio_unitario >= 0),
    stock_minimo INT NOT NULL DEFAULT 0 CHECK (stock_minimo >= 0),
    stock_maximo INT NOT NULL DEFAULT 100 CHECK (stock_maximo >= stock_minimo),
    imagen VARCHAR(500) DEFAULT NULL,
    estado ENUM('Activo', 'Inactivo') DEFAULT 'Activo' NOT NULL,
    fecha_creacion DATETIME DEFAULT CURRENT_TIMESTAMP,
    fecha_actualizacion DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    CONSTRAINT fk_producto_categoria FOREIGN KEY (categoria_id)
        REFERENCES categorias(categoria_id)
        ON UPDATE CASCADE
        ON DELETE RESTRICT,
    
    INDEX idx_codigo (codigo),
    INDEX idx_nombre (nombre),
    INDEX idx_categoria (categoria_id),
    INDEX idx_estado (estado),
    INDEX idx_stock_minimo (stock_minimo),
    FULLTEXT idx_busqueda (nombre, descripcion)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Cat√°logo de productos administrativos';
________________________________________
üü§ TABLA: SOLICITUDES (ML-TAB-05)
sql
CREATE TABLE solicitudes (
    solicitud_id INT AUTO_INCREMENT PRIMARY KEY,
    numero_solicitud VARCHAR(50) NOT NULL UNIQUE COMMENT 'Formato: SJB-YYYYMMDD-NNNN',
    departamento_id INT NOT NULL,
    usuario_solicitante_id INT NOT NULL,
    fecha_solicitud DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,
    fecha_requerida DATE NOT NULL,
    estado ENUM('Pendiente', 'En Revisi√≥n', 'Aprobada', 'Despachada', 'Entregada', 'Rechazada', 'Cancelada') 
        DEFAULT 'Pendiente' NOT NULL,
    prioridad ENUM('Normal', 'Urgente') DEFAULT 'Normal' NOT NULL,
    justificacion TEXT,
    usuario_aprobador_id INT DEFAULT NULL,
    fecha_aprobacion DATETIME DEFAULT NULL,
    motivo_rechazo TEXT DEFAULT NULL,
    usuario_despachador_id INT DEFAULT NULL,
    fecha_despacho DATETIME DEFAULT NULL,
    usuario_receptor_id INT DEFAULT NULL,
    fecha_recepcion DATETIME DEFAULT NULL,
    observaciones_recepcion TEXT DEFAULT NULL,
    costo_total_estimado DECIMAL(10,2) DEFAULT 0.00 CHECK (costo_total_estimado >= 0),
    origen_solicitud ENUM('Manual', 'Link Compartido', 'OCR Imagen') DEFAULT 'Manual' NOT NULL,
    
    CONSTRAINT fk_solicitud_departamento FOREIGN KEY (departamento_id)
        REFERENCES departamentos(departamento_id)
        ON UPDATE CASCADE
        ON DELETE RESTRICT,
    
    CONSTRAINT fk_solicitud_solicitante FOREIGN KEY (usuario_solicitante_id)
        REFERENCES usuarios(usuario_id)
        ON UPDATE CASCADE
        ON DELETE RESTRICT,
    
    CONSTRAINT fk_solicitud_aprobador FOREIGN KEY (usuario_aprobador_id)
        REFERENCES usuarios(usuario_id)
        ON UPDATE CASCADE
        ON DELETE SET NULL,
    
    CONSTRAINT fk_solicitud_despachador FOREIGN KEY (usuario_despachador_id)
        REFERENCES usuarios(usuario_id)
        ON UPDATE CASCADE
        ON DELETE SET NULL,
    
    CONSTRAINT fk_solicitud_receptor FOREIGN KEY (usuario_receptor_id)
        REFERENCES usuarios(usuario_id)
        ON UPDATE CASCADE
        ON DELETE SET NULL,
    
    INDEX idx_numero_solicitud (numero_solicitud),
    INDEX idx_estado (estado),
    INDEX idx_prioridad (prioridad),
    INDEX idx_departamento (departamento_id),
    INDEX idx_solicitante (usuario_solicitante_id),
    INDEX idx_fecha_solicitud (fecha_solicitud),
    INDEX idx_fecha_requerida (fecha_requerida),
    INDEX idx_estado_prioridad (estado, prioridad)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Solicitudes de materiales administrativos';
________________________________________
üü§ TABLA: DETALLE_SOLICITUDES (ML-TAB-06)
sql
CREATE TABLE detalle_solicitudes (
    detalle_id INT AUTO_INCREMENT PRIMARY KEY,
    solicitud_id INT NOT NULL,
    producto_id INT NOT NULL,
    cantidad_solicitada INT NOT NULL CHECK (cantidad_solicitada > 0),
    cantidad_aprobada INT DEFAULT NULL CHECK (cantidad_aprobada >= 0),
    cantidad_despachada INT DEFAULT NULL CHECK (cantidad_despachada >= 0),
    cantidad_recibida INT DEFAULT NULL CHECK (cantidad_recibida >= 0),
    especificaciones TEXT DEFAULT NULL,
    precio_unitario_estimado DECIMAL(10,2) DEFAULT NULL,
    subtotal_estimado DECIMAL(10,2) GENERATED ALWAYS AS (cantidad_solicitada * IFNULL(precio_unitario_estimado, 0)) STORED,
    estado_item ENUM('Pendiente', 'Aprobado', 'Despachado', 'Recibido', 'Rechazado') DEFAULT 'Pendiente' NOT NULL,
    
    CONSTRAINT fk_detalle_solicitud FOREIGN KEY (solicitud_id)
        REFERENCES solicitudes(solicitud_id)
        ON UPDATE CASCADE
        ON DELETE CASCADE,
    
    CONSTRAINT fk_detalle_producto FOREIGN KEY (producto_id)
        REFERENCES productos(producto_id)
        ON UPDATE CASCADE
        ON DELETE RESTRICT,
    
    INDEX idx_solicitud (solicitud_id),
    INDEX idx_producto (producto_id),
    INDEX idx_estado_item (estado_item)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Detalle de productos en cada solicitud';
________________________________________
üü§ TABLA: MOVIMIENTOS_INVENTARIO (ML-TAB-07)
sql
CREATE TABLE movimientos_inventario (
    movimiento_id INT AUTO_INCREMENT PRIMARY KEY,
    producto_id INT NOT NULL,
    tipo_movimiento ENUM('Entrada', 'Salida', 'Ajuste', 'Transferencia') NOT NULL,
    cantidad INT NOT NULL COMMENT 'Puede ser positivo (entrada) o negativo (salida/ajuste)',
    stock_anterior INT NOT NULL CHECK (stock_anterior >= 0),
    stock_nuevo INT NOT NULL CHECK (stock_nuevo >= 0),
    fecha_movimiento DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,
    usuario_responsable_id INT NOT NULL,
    solicitud_id INT DEFAULT NULL COMMENT 'Si movimiento fue por solicitud',
    motivo VARCHAR(200),
    observaciones TEXT,
    lote_serie VARCHAR(100) DEFAULT NULL,
    fecha_vencimiento DATE DEFAULT NULL,
    ubicacion_fisica VARCHAR(100) DEFAULT NULL COMMENT 'Ubicaci√≥n en almac√©n',
    precio_unitario DECIMAL(10,2) DEFAULT NULL,
    
    CONSTRAINT fk_movimiento_producto FOREIGN KEY (producto_id)
        REFERENCES productos(producto_id)
        ON UPDATE CASCADE
        ON DELETE RESTRICT,
    
    CONSTRAINT fk_movimiento_usuario FOREIGN KEY (usuario_responsable_id)
        REFERENCES usuarios(usuario_id)
        ON UPDATE CASCADE
        ON DELETE RESTRICT,
    
    CONSTRAINT fk_movimiento_solicitud FOREIGN KEY (solicitud_id)
        REFERENCES solicitudes(solicitud_id)
        ON UPDATE CASCADE
        ON DELETE SET NULL,
    
    INDEX idx_producto (producto_id),
    INDEX idx_tipo_movimiento (tipo_movimiento),
    INDEX idx_fecha_movimiento (fecha_movimiento),
    INDEX idx_usuario (usuario_responsable_id),
    INDEX idx_solicitud (solicitud_id),
    INDEX idx_producto_fecha (producto_id, fecha_movimiento)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Registro de movimientos de inventario';
________________________________________
üü§ TABLA: PROVEEDORES (ML-TAB-08) - Fase 2
sql
CREATE TABLE proveedores (
    proveedor_id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(200) NOT NULL,
    ruc VARCHAR(11) NOT NULL UNIQUE,
    direccion TEXT,
    telefono VARCHAR(20),
    email VARCHAR(200),
    contacto_nombre VARCHAR(100),
    contacto_telefono VARCHAR(20),
    condiciones_pago TEXT,
    calificacion DECIMAL(3,2) DEFAULT NULL CHECK (calificacion BETWEEN 1.00 AND 5.00),
    estado ENUM('Activo', 'Inactivo') DEFAULT 'Activo' NOT NULL,
    fecha_registro DATETIME DEFAULT CURRENT_TIMESTAMP,
    fecha_actualizacion DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_ruc (ruc),
    INDEX idx_nombre (nombre),
    INDEX idx_estado (estado)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Proveedores de productos administrativos';
________________________________________
üü§ TABLA: BITACORA_AUDITORIA (ML-TAB-09)
sql
CREATE TABLE bitacora_auditoria (
    auditoria_id INT AUTO_INCREMENT PRIMARY KEY,
    usuario_id INT NOT NULL,
    accion VARCHAR(100) NOT NULL COMMENT 'CREATE, UPDATE, DELETE, LOGIN, etc.',
    tabla_afectada VARCHAR(50) NOT NULL,
    registro_id INT DEFAULT NULL COMMENT 'ID del registro afectado',
    valores_anteriores JSON DEFAULT NULL,
    valores_nuevos JSON DEFAULT NULL,
    fecha_hora DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,
    ip_address VARCHAR(45) DEFAULT NULL,
    user_agent VARCHAR(500) DEFAULT NULL,
    
    CONSTRAINT fk_auditoria_usuario FOREIGN KEY (usuario_id)
        REFERENCES usuarios(usuario_id)
        ON UPDATE CASCADE
        ON DELETE RESTRICT,
    
    INDEX idx_usuario (usuario_id),
    INDEX idx_accion (accion),
    INDEX idx_tabla (tabla_afectada),
    INDEX idx_fecha (fecha_hora),
    INDEX idx_usuario_fecha (usuario_id, fecha_hora)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Registro de auditor√≠a de todas las operaciones';
________________________________________
3. VISTAS (VIEWS)
VISTA: v_solicitudes_completas
sql
CREATE OR REPLACE VIEW v_solicitudes_completas AS
SELECT 
    s.solicitud_id,
    s.numero_solicitud,
    s.estado,
    s.prioridad,
    s.fecha_solicitud,
    s.fecha_requerida,
    d.nombre AS departamento,
    d.codigo AS codigo_departamento,
    CONCAT(u1.nombre, ' ', u1.apellido) AS solicitante,
    u1.email AS solicitante_email,
    CONCAT(u2.nombre, ' ', u2.apellido) AS aprobador,
    s.fecha_aprobacion,
    CONCAT(u3.nombre, ' ', u3.apellido) AS despachador,
    s.fecha_despacho,
    CONCAT(u4.nombre, ' ', u4.apellido) AS receptor,
    s.fecha_recepcion,
    COUNT(ds.detalle_id) AS total_productos,
    SUM(ds.cantidad_solicitada) AS total_cantidad,
    s.costo_total_estimado,
    DATEDIFF(COALESCE(s.fecha_recepcion, CURRENT_DATE), s.fecha_solicitud) AS dias_transcurridos,
    CASE 
        WHEN s.estado = 'Entregada' AND s.fecha_recepcion <= s.fecha_requerida THEN 'A Tiempo'
        WHEN s.estado = 'Entregada' AND s.fecha_recepcion > s.fecha_requerida THEN 'Retrasada'
        WHEN s.estado IN ('Pendiente', 'En Revisi√≥n', 'Aprobada', 'Despachada') 
             AND CURRENT_DATE > s.fecha_requerida THEN 'Vencida'
        ELSE 'En Proceso'
    END AS estado_cumplimiento
FROM solicitudes s
INNER JOIN departamentos d ON s.departamento_id = d.departamento_id
INNER JOIN usuarios u1 ON s.usuario_solicitante_id = u1.usuario_id
LEFT JOIN usuarios u2 ON s.usuario_aprobador_id = u2.usuario_id
LEFT JOIN usuarios u3 ON s.usuario_despachador_id = u3.usuario_id
LEFT JOIN usuarios u4 ON s.usuario_receptor_id = u4.usuario_id
LEFT JOIN detalle_solicitudes ds ON s.solicitud_id = ds.solicitud_id
GROUP BY s.solicitud_id;
________________________________________
VISTA: v_stock_actual
sql
CREATE OR REPLACE VIEW v_stock_actual AS
SELECT 
    p.producto_id,
    p.codigo,
    p.nombre,
    p.descripcion,
    c.nombre AS categoria,
    p.unidad_medida,
    p.precio_unitario,
    p.stock_minimo,
    p.stock_maximo,
    COALESCE(
        SUM(CASE 
            WHEN m.tipo_movimiento = 'Entrada' THEN m.cantidad
            WHEN m.tipo_movimiento IN ('Salida', 'Ajuste') THEN -m.cantidad
            ELSE 0
        END), 
        0
    ) AS stock_actual,
    CASE 
        WHEN COALESCE(SUM(CASE 
                WHEN m.tipo_movimiento = 'Entrada' THEN m.cantidad
                WHEN m.tipo_movimiento IN ('Salida', 'Ajuste') THEN -m.cantidad
                ELSE 0
            END), 0) = 0 THEN 'Cr√≠tico'
        WHEN COALESCE(SUM(CASE 
                WHEN m.tipo_movimiento = 'Entrada' THEN m.cantidad
                WHEN m.tipo_movimiento IN ('Salida', 'Ajuste') THEN -m.cantidad
                ELSE 0
            END), 0) <= p.stock_minimo THEN 'Bajo'
        WHEN COALESCE(SUM(CASE 
                WHEN m.tipo_movimiento = 'Entrada' THEN m.cantidad
                WHEN m.tipo_movimiento IN ('Salida', 'Ajuste') THEN -m.cantidad
                ELSE 0
            END), 0) >= p.stock_maximo THEN 'Exceso'
        ELSE 'Normal'
    END AS estado_stock,
    p.estado AS estado_producto,
    MAX(m.fecha_movimiento) AS ultimo_movimiento
FROM productos p
INNER JOIN categorias c ON p.categoria_id = c.categoria_id
LEFT JOIN movimientos_inventario m ON p.producto_id = m.producto_id
WHERE p.estado = 'Activo'
GROUP BY p.producto_id;
________________________________________
VISTA: v_productos_alerta_stock
sql
CREATE OR REPLACE VIEW v_productos_alerta_stock AS
SELECT 
    p.producto_id,
    p.codigo,
    p.nombre,
    c.nombre AS categoria,
    stock_actual,
    p.stock_minimo,
    (p.stock_minimo - stock_actual) AS cantidad_requerida,
    estado_stock
FROM v_stock_actual vsa
INNER JOIN productos p ON vsa.producto_id = p.producto_id
INNER JOIN categorias c ON p.categoria_id = c.categoria_id
WHERE estado_stock IN ('Cr√≠tico', 'Bajo')
ORDER BY 
    CASE estado_stock
        WHEN 'Cr√≠tico' THEN 1
        WHEN 'Bajo' THEN 2
    END,
    stock_actual ASC;
________________________________________
VISTA: v_dashboard_kpis
sql
CREATE OR REPLACE VIEW v_dashboard_kpis AS
SELECT 
    -- Solicitudes del mes actual
    (SELECT COUNT(*) FROM solicitudes WHERE MONTH(fecha_solicitud) = MONTH(CURRENT_DATE) AND YEAR(fecha_solicitud) = YEAR(CURRENT_DATE)) AS solicitudes_mes,
    
    -- Solicitudes completadas este mes
    (SELECT COUNT(*) FROM solicitudes WHERE estado = 'Entregada' AND MONTH(fecha_recepcion) = MONTH(CURRENT_DATE) AND YEAR(fecha_recepcion) = YEAR(CURRENT_DATE)) AS solicitudes_completadas_mes,
    
    -- Solicitudes pendientes
    (SELECT COUNT(*) FROM solicitudes WHERE estado IN ('Pendiente', 'En Revisi√≥n', 'Aprobada', 'Despachada')) AS solicitudes_pendientes,
    
    -- Tiempo promedio de atenci√≥n (d√≠as)
    (SELECT AVG(DATEDIFF(fecha_recepcion, fecha_solicitud)) FROM solicitudes WHERE estado = 'Entregada' AND MONTH(fecha_recepcion) = MONTH(CURRENT_DATE)) AS tiempo_promedio_atencion_dias,
    
    -- Productos en stock cr√≠tico
    (SELECT COUNT(*) FROM v_stock_actual WHERE estado_stock = 'Cr√≠tico') AS productos_stock_critico,
    
    -- Productos en stock bajo
    (SELECT COUNT(*) FROM v_stock_actual WHERE estado_stock = 'Bajo') AS productos_stock_bajo,
    
    -- Costo total estimado del mes
    (SELECT SUM(costo_total_estimado) FROM solicitudes WHERE estado = 'Entregada' AND MONTH(fecha_recepcion) = MONTH(CURRENT_DATE) AND YEAR(fecha_recepcion) = YEAR(CURRENT_DATE)) AS costo_total_mes,
    
    -- Tasa de cumplimiento on-time (%)
    (SELECT 
        ROUND(
            (COUNT(CASE WHEN fecha_recepcion <= fecha_requerida THEN 1 END) * 100.0 / COUNT(*)), 
            2
        )
     FROM solicitudes 
     WHERE estado = 'Entregada' AND MONTH(fecha_recepcion) = MONTH(CURRENT_DATE)
    ) AS tasa_cumplimiento_ontime;
________________________________________
4. TRIGGERS
TRIGGER: Calcular Costo Total de Solicitud (AFTER INSERT/UPDATE)
sql
DELIMITER $$

CREATE TRIGGER trg_calcular_costo_solicitud_insert
AFTER INSERT ON detalle_solicitudes
FOR EACH ROW
BEGIN
    UPDATE solicitudes
    SET costo_total_estimado = (
        SELECT SUM(subtotal_estimado)
        FROM detalle_solicitudes
        WHERE solicitud_id = NEW.solicitud_id
    )
    WHERE solicitud_id = NEW.solicitud_id;
END$$

CREATE TRIGGER trg_calcular_costo_solicitud_update
AFTER UPDATE ON detalle_solicitudes
FOR EACH ROW
BEGIN
    UPDATE solicitudes
    SET costo_total_estimado = (
        SELECT SUM(subtotal_estimado)
        FROM detalle_solicitudes
        WHERE solicitud_id = NEW.solicitud_id
    )
    WHERE solicitud_id = NEW.solicitud_id;
END$$

CREATE TRIGGER trg_calcular_costo_solicitud_delete
AFTER DELETE ON detalle_solicitudes
FOR EACH ROW
BEGIN
    UPDATE solicitudes
    SET costo_total_estimado = (
        SELECT COALESCE(SUM(subtotal_estimado), 0)
        FROM detalle_solicitudes
        WHERE solicitud_id = OLD.solicitud_id
    )
    WHERE solicitud_id = OLD.solicitud_id;
END$$

DELIMITER ;
________________________________________
TRIGGER: Auditor√≠a Autom√°tica en Solicitudes
sql
DELIMITER $$

CREATE TRIGGER trg_auditoria_solicitud_update
AFTER UPDATE ON solicitudes
FOR EACH ROW
BEGIN
    IF OLD.estado != NEW.estado THEN
        INSERT INTO bitacora_auditoria (
            usuario_id,
            accion,
            tabla_afectada,
            registro_id,
            valores_anteriores,
            valores_nuevos
        ) VALUES (
            NEW.usuario_aprobador_id,  -- Asume que el usuario que cambi√≥ estado es el aprobador
            'UPDATE_ESTADO',
            'solicitudes',
            NEW.solicitud_id,
            JSON_OBJECT('estado', OLD.estado, 'fecha', OLD.fecha_aprobacion),
            JSON_OBJECT('estado', NEW.estado, 'fecha', NEW.fecha_aprobacion)
        );
    END IF;
END$$

DELIMITER ;
________________________________________
TRIGGER: Validar Stock Antes de Despacho
sql
DELIMITER $$

CREATE TRIGGER trg_validar_stock_antes_despacho
BEFORE UPDATE ON detalle_solicitudes
FOR EACH ROW
BEGIN
    DECLARE stock_disponible INT;
    
    IF NEW.cantidad_despachada IS NOT NULL AND NEW.cantidad_despachada > 0 THEN
        -- Obtener stock actual del producto
        SELECT COALESCE(SUM(CASE 
                WHEN tipo_movimiento = 'Entrada' THEN cantidad
                WHEN tipo_movimiento IN ('Salida', 'Ajuste') THEN -cantidad
            END), 0)
        INTO stock_disponible
        FROM movimientos_inventario
        WHERE producto_id = NEW.producto_id;
        
        -- Validar que hay stock suficiente
        IF stock_disponible < NEW.cantidad_despachada THEN
            SIGNAL SQLSTATE '45000'
            SET MESSAGE_TEXT = 'Stock insuficiente para despachar la cantidad solicitada';
        END IF;
    END IF;
END$$

DELIMITER ;
________________________________________
TRIGGER: Generar N√∫mero de Solicitud Autom√°ticamente
sql
DELIMITER $$

CREATE TRIGGER trg_generar_numero_solicitud
BEFORE INSERT ON solicitudes
FOR EACH ROW
BEGIN
    DECLARE siguiente_secuencial INT;
    DECLARE fecha_actual VARCHAR(8);
    
    SET fecha_actual = DATE_FORMAT(CURRENT_DATE, '%Y%m%d');
    
    -- Obtener el siguiente secuencial para hoy
    SELECT COALESCE(MAX(CAST(SUBSTRING(numero_solicitud, -4) AS UNSIGNED)), 0) + 1
    INTO siguiente_secuencial
    FROM solicitudes
    WHERE numero_solicitud LIKE CONCAT('SJB-', fecha_actual, '-%');
    
    -- Generar n√∫mero con formato SJB-YYYYMMDD-NNNN
    SET NEW.numero_solicitud = CONCAT('SJB-', fecha_actual, '-', LPAD(siguiente_secuencial, 4, '0'));
END$$

DELIMITER ;
________________________________________
5. STORED PROCEDURES
Procedimiento: Registrar Movimiento de Inventario
sql
DELIMITER $$

CREATE PROCEDURE sp_registrar_movimiento_inventario(
    IN p_producto_id INT,
    IN p_tipo_movimiento ENUM('Entrada', 'Salida', 'Ajuste', 'Transferencia'),
    IN p_cantidad INT,
    IN p_usuario_id INT,
    IN p_solicitud_id INT,
    IN p_motivo VARCHAR(200),
    IN p_observaciones TEXT
)
BEGIN
    DECLARE v_stock_anterior INT;
    DECLARE v_stock_nuevo INT;
    
    -- Obtener stock actual
    SELECT COALESCE(SUM(CASE 
            WHEN tipo_movimiento = 'Entrada' THEN cantidad
            WHEN tipo_movimiento IN ('Salida', 'Ajuste') THEN -cantidad
        END), 0)
    INTO v_stock_anterior
    FROM movimientos_inventario
    WHERE producto_id = p_producto_id;
    
    -- Calcular nuevo stock
    IF p_tipo_movimiento = 'Entrada' THEN
        SET v_stock_nuevo = v_stock_anterior + p_cantidad;
    ELSEIF p_tipo_movimiento IN ('Salida', 'Ajuste') THEN
        SET v_stock_nuevo = v_stock_anterior - p_cantidad;
    ELSE
        SET v_stock_nuevo = v_stock_anterior;
    END IF;
    
    -- Validar que stock no sea negativo
    IF v_stock_nuevo < 0 THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'El movimiento resultar√≠a en stock negativo';
    END IF;
    
    -- Registrar movimiento
    INSERT INTO movimientos_inventario (
        producto_id,
        tipo_movimiento,
        cantidad,
        stock_anterior,
        stock_nuevo,
        usuario_responsable_id,
        solicitud_id,
        motivo,
        observaciones
    ) VALUES (
        p_producto_id,
        p_tipo_movimiento,
        p_cantidad,
        v_stock_anterior,
        v_stock_nuevo,
        p_usuario_id,
        p_solicitud_id,
        p_motivo,
        p_observaciones
    );
    
    SELECT 'Movimiento registrado exitosamente' AS mensaje, LAST_INSERT_ID() AS movimiento_id;
END$$

DELIMITER ;
________________________________________
Procedimiento: Aprobar Solicitud
sql
DELIMITER $$

CREATE PROCEDURE sp_aprobar_solicitud(
    IN p_solicitud_id INT,
    IN p_usuario_aprobador_id INT
)
BEGIN
    DECLARE v_estado_actual VARCHAR(50);
    
    -- Obtener estado actual
    SELECT estado INTO v_estado_actual
    FROM solicitudes
    WHERE solicitud_id = p_solicitud_id;
    
    -- Validar que est√© en estado pendiente
    IF v_estado_actual != 'Pendiente' THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'Solo se pueden aprobar solicitudes en estado Pendiente';
    END IF;
    
    -- Actualizar solicitud
    UPDATE solicitudes
    SET 
        estado = 'Aprobada',
        usuario_aprobador_id = p_usuario_aprobador_id,
        fecha_aprobacion = CURRENT_TIMESTAMP
    WHERE solicitud_id = p_solicitud_id;
    
    -- Actualizar detalles
    UPDATE detalle_solicitudes
    SET 
        estado_item = 'Aprobado',
        cantidad_aprobada = cantidad_solicitada
    WHERE solicitud_id = p_solicitud_id;
    
    SELECT 'Solicitud aprobada exitosamente' AS mensaje;
END$$

DELIMITER ;
________________________________________
6. √çNDICES ADICIONALES RECOMENDADOS
sql
-- √çndices compuestos para consultas frecuentes
CREATE INDEX idx_solicitudes_estado_fecha ON solicitudes(estado, fecha_solicitud);
CREATE INDEX idx_movimientos_producto_tipo ON movimientos_inventario(producto_id, tipo_movimiento);
CREATE INDEX idx_detalle_solicitud_producto ON detalle_solicitudes(solicitud_id, producto_id);

-- √çndices para b√∫squedas FULLTEXT
ALTER TABLE productos ADD FULLTEXT INDEX idx_fulltext_busqueda (nombre, descripcion);
________________________________________
7. DATOS INICIALES (SEEDS)
sql
-- Insertar categor√≠as por defecto
INSERT INTO categorias (nombre, descripcion, color_identificador, icono) VALUES
('Material de Oficina', 'Papeler√≠a y √∫tiles de escritorio', '#3498db', 'fa-clipboard'),
('Equipos de C√≥mputo', 'Computadoras, impresoras y accesorios', '#e74c3c', 'fa-laptop'),
('Mobiliario', 'Muebles y equipamiento de oficina', '#f39c12', 'fa-chair'),
('Consumibles', 'T√≥ner, tintas y materiales de consumo', '#2ecc71', 'fa-print'),
('Material de Limpieza', 'Productos de aseo y desinfecci√≥n', '#9b59b6', 'fa-broom');

-- Insertar departamentos por defecto
INSERT INTO departamentos (nombre, codigo, descripcion, presupuesto_mensual) VALUES
('Administraci√≥n', 'ADM', 'Departamento administrativo central', 5000.00),
('Finanzas', 'FIN', 'Departamento de contabilidad y finanzas', 3000.00),
('Recursos Humanos', 'RRHH', 'Gesti√≥n de personal', 2000.00),
('Log√≠stica', 'LOG', '√Årea de log√≠stica y almac√©n', 8000.00),
('Servicios Generales', 'SGEN', 'Mantenimiento y servicios', 4000.00);

-- Insertar usuario administrador por defecto (contrase√±a: admin123 - cambiar en producci√≥n)
INSERT INTO usuarios (nombre, apellido, email, contrase√±a_hash, departamento_id, puesto, rol) VALUES
('Administrador', 'Sistema', 'admin@clinicasjb.pe', '$2y$10$abcdefghijklmnopqrstuvwxyz', 4, 'Jefe de Log√≠stica', 'Admin Log√≠stica');
Este modelo f√≠sico completo incluye:
‚úÖ Tablas con tipos de datos apropiados y restricciones
‚úÖ √çndices optimizados para consultas frecuentes
‚úÖ Vistas para simplificar consultas complejas
‚úÖ Triggers para automatizaci√≥n y auditor√≠a
‚úÖ Stored Procedures para operaciones cr√≠ticas
‚úÖ Integridad referencial completa
‚úÖ Optimizaci√≥n de rendimiento
‚úÖ Seguridad y auditor√≠a integradas



